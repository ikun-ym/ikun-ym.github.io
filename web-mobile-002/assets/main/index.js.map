{"version":3,"sources":["../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/all.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/Audio.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/AudioMgr.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/test/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/test/BackgroundScroll.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/BGM.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/Ad/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/Ad/BottomAdController.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/clickstartgame.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/cufbParent.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/curbMove.ts","../file:/C:/ProgramData/cocos/editors/Creator/3.8.2/resources/resources/3d/engine/editor/assets/tools/file:/C:/ProgramData/cocos/editors/Creator/3.8.2/resources/resources/3d/engine/editor/assets/tools/debug-view-runtime-control.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/fance.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/GameManager.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/GameoverUI.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/test/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/test/GlobalState.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/Map/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/Map/level.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/liveUI.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/MainGamePanel.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/Map/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/Map/MapPanel.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/newaudio.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/newcurbeParent.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/newGameManager.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/pauseui.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/test/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/test/PlaySoundOnClick.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/test/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/test/PopupController.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/data/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/data/prefab.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/SpeedScript/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/SpeedScript/PrefabDistributorFromScript_Speed.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/test/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/test/PrefabDistributorFromScript.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/progress.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/reward.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/ScoreUI.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/data/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/data/settings.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/data/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/data/skin.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/Start/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/Start/StartUI.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/teach/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/teach/teach.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/TimeUI.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/Top/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/Top/top.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/texiao/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/texiao/tx_col.ts","../file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/test/file:/D:/yumi/Documents/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/demo2/assets/Scripts/test/UIController.ts"],"names":["All","setStateDialog","isActive","isDialogActive","_RF","pop","ccclass","_decorator","property","_dec","_dec2","type","AudioSource","_dec3","AudioClip","_dec4","_dec5","_dec6","_dec7","_dec8","_class3","_Component","Audio","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_initializerDefineProperty","_descriptor","_assertThisInitialized","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","soundCache","Map","isSoundEnabled","isMusicEnabled","_inheritsLoose","getInstance","this","instance","_proto","prototype","start","playSound","soundPath","_this2","audioSource","has","playOneShot","get","resources","load","err","clip","console","error","set","playDlive","volume","dlive","playGameover","gameover","playCollider","coll","playClick","clic","playlevelover","lover","playlevelvic","lvic","Component","_applyDecoratedDescriptor","_class2","configurable","enumerable","writable","initializer","_class","AudioMgr","_audioSource","audioMgr","Node","name","director","getScene","addChild","addPersistRootNode","addComponent","sound","log","play","stop","loop","pause","resume","_createClass","key","_inst","BackgroundScroll","startTouchPos","Vec2","startBackgroundPos","onLoad","node","on","EventType","TOUCH_START","onTouchStart","TOUCH_MOVE","onTouchMove","event","getUILocation","background","bgPos","position","x","y","delta","subtract","newPos","bgHeight","getComponent","UITransform","height","maskHeight","minY","maxY","Math","max","min","setPosition","BGM","state_play","inst","playing","bgMusic","update","deltaTime","BottomAdController","popupAd","active","adButton","Button","CLICK","showPopupAd","exitButton","hidePopupAd","cufbParent","changeBState","clickstartgame","setTimeout","loadScene","clickcancelgame","MapPanel","hideleveldialog","clickcancelspeed","StartUI","hidespeeddialog","clickStartspeed","OnStartButtonClick","Color","Prefab","liveUI","currentRound","tileMatrix","colorArray","isMoving","size","rotateState","movesysmol","state_button","cstate","dstate","indexArray","posArray","pArray","titleMatrix_pos","rewardNode","reward_time","_descriptor8","spriteFramePath","skin","prefabPaths","prefab","len","nullstate","childangle","animatedNodes","Set","ybnum","touchStartPos","currentTween","startNewRound","findCoordinates","PArray","row","col","push","upPArray","getRandomIndex","array","index","floor","random","includes","createreward","rprefab","reward2","reward1","f","nod","cr","pos","instantiate","_step","childNodes","children","_iterator","_createForOfIteratorHelperLoose","done","child","value","angle","countUniqueElementsIn2DArray","arr","flattenedArray","flat","ff","getTileAt","indexOf","moveNode","targetWorldposition","getWorldPosition","tween","to","worldPosition","add","updateround","GameManager","rewardtype","updaterotate","_step2","_iterator2","eulerAngles","Vec3","ZERO","destroy","init","i","j","color","Red","c4","Yellow","c2","purple","c3","c1","tile","setParent","blockSize","input","Input","TOUCH_END","onTouchEnd","getLocation","touchEndPos","swipeDirection","getSwipeDirection","handleSwipe","startPos","endPos","deltaX","deltaY","abs","direction","gameoverState","isAnimationFinished","markToRemove","_this3","isRow","isCol","isContinuousColor","targetColor","toRemove","from","fill","end","consecutiveColorCount","getTargetColor","a","moveNodes","areAllElementsNull","changeBStatef","aTime","fx","_this4","_loop","z","movePosition","onrotateButton","_this5","find","newAngle","_step3","parentTween","easing","_iterator3","childAngle","rotateMatrix90Degrees","matrix","rotatedMatrix","twoDimensionalArray","every","subArray","element","live","curbMove","collider","hasAnimated","Collider2D","Contact2DType","BEGIN_CONTACT","onBeginContact","selfCollider","otherCollider","contact","fance","timeoutState","addscore","score_self","Sprite","enabled","pos2","tx_col","txcreator","DebugViewRuntimeControl","_single","strSingle","strComposite","strMisc","compositeModeToggleList","singleModeToggleList","miscModeToggleList","textComponentList","labelComponentList","textContentList","hideButtonLabel","_currentColorIndex","strColor","WHITE","BLACK","RED","GREEN","BLUE","parent","Canvas","uiTransform","halfScreenWidth","width","halfScreenHeight","miscNode","getChildByName","buttonNode","titleNode","newLabel","EnableAllCompositeModeButton","setScale","labelComponent","Label","string","overflow","currentRow","newNode","singleModeToggle","textComponent","getComponentInChildren","RichText","Toggle","TOGGLE","toggleSingleMode","enableAllCompositeMode","changeColorButton","changeTextColor","HideButton","hideUI","compositeModeToggle","isChecked","toggleLightingWithAlbedo","toggleCSMColoration","toggleCompositeMode","isTextMatched","textUI","textDescription","tempText","String","findIndex","search","substr","toggle","debugView","root","singleMode","enableCompositeMode","lightingWithAlbedo","csmLayerColoration","button","toggleComponent","activeValue","Reward","reward","onContactReward","rewardType","RewardType","half","Animation","Two","pausetime","rewardpausetime","GameoverUI","TimeUI","ScoreUI","_dec9","_dec10","pauseui","_dec11","_dec12","_dec13","_dec14","_dec15","SpriteFrame","totaltime","atimeState","score","_descriptor9","_descriptor10","bg","_descriptor11","high_socre","remainingTime","timer","_descriptor12","_descriptor13","_descriptor14","pausetotal","MainGamePanel","socre_high","highest_score","toString","liveui","liveUIChange","animation","FINISHED","countdown","onAnimationFinish","addTime_reward","time","alive","animation_dlive","dTime","s","scoreui","onPauseButtonClick","newcurbeParent","starshowPauseUI","levelStar","onPauseButtonClick_Speed","showPauseUI","onReturnmain","onReturnMap","onStartButtonCLick","hidePauseUI","onRestartButtonClick","hScore","localStorage","getItem","hScoreInt","parseInt","setItem","level","settings","JSON","parse","s1","s2","s3","l1","l2","l3","stringify","showleveldialog","playStarAnimation","starNode","callback","gameoverStar","star","strpnode","victroyui","showDialog","totallevel","content","spriteFrame","frame_sp","scale","gameoverui","animation_add","highcount","finallcount","highLabel","finallLabel","tip","GlobalPopupState","isPopupActive","initgreyStart","threeChild","greyStartPic","onePass","yellowStartPic","twoPass","thridPass","saveMessage","changePic","levelState","num","forEach","childNode","completedBackgroundPic","count","starnode1","starnode2","progress","progress_term","star2_over_state","upstep","defeat","star_2over","uptermstar","initl3","starPrefab","barnode","pos2_x","round","Minstep","Maxstep","progresswidth","pos1","stepCount","step","fillRange","termStarprogress","totalProgress","termStarnode","emit","leveldnode","initLevels","childSlots","newSettings","warn","levelnode","levelPrefab","levelscr","stage","leveldPrefab","contentnode","titlenode","starChildren","startermChildren","strNodes","returnMain","newaudio","_instance","globalNode","playBackgroundMusic","musicPath","stopBackgroundMusic","setSoundEnabled","setMusicEnabled","getSoundEnabled","getMusicEnabled","_descriptor15","currentLevelInfo","levelsetting_round","xcmatrixArray","Prefab_type","starlight_third","tiaojian_mz","levelStarState","roundStarterm","prefabMap","finalstepState","state_pdsb","levelsetting","creatorPrefab","xcupdate_tj","xcupdate","tiaojian","saveStar_final","panlNode","getCNamePrefab","time_upround","_this6","newGameManager","masksp","r","b","g","PlaySoundOnClick","clickSound","PopupController","globalState","popup","showPopupAnimation","showButton","showPopup","hideButton","hidePopup","hidePopupAnimation","PrefabDistributor","distributePrefabs","train","parentInstance","prefabs","trainChildren","preloadScene","completedCount","totalCount","item","bar","score_setting","score_gameover","MaxCount","MinCount","term_num","term_onexc","S1","S2","S3","L1","L2","L3","levelLogic","level1Logic","pausednode","loadnode","showspeeddialog","pausePrefab","pauseuinode","loadprefab","OnSecondStartButtonClick","ybState","loadMultiplePrefabsAndSpriteFrames","skintype","prefabPath","sprite","top","animal","layer","Layers","Enum","UI_2D","setContentSize","kind","tx","setWorldPosition","UIController","showTargetNode","hideTargetNode","targetNode","onDestroy","off"],"mappings":"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","file":"all.js","sourcesContent":["export class All {\r\n    // 定义一个静态属性，这样它可以在类的所有实例之间共享\r\n    public static isDialogActive: boolean = false;\r\n\r\n    // 定义一个静态方法来设置 isDialogActive 的值\r\n    public static setStateDialog(isActive: boolean): void {\r\n        All.isDialogActive = isActive;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, AudioSource, AudioClip, resources } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Audio')\r\nexport class Audio extends Component {\r\n     //单例模式定义一个私有的静态变量\r\n     private static instance: Audio;\r\n     //外界访问instance\r\n     public static getInstance(): Audio {\r\n         return this.instance;\r\n     }\r\n    @property({ type: AudioSource })\r\n    audioSource: AudioSource = null;\r\n\r\n\r\n    @property({ type: AudioClip })\r\n    dlive: AudioClip = null;\r\n\r\n    @property({ type: AudioClip })\r\n    gameover: AudioClip = null;\r\n\r\n    @property({ type: AudioClip })\r\n    coll: AudioClip = null;\r\n\r\n    @property({ type: AudioClip })\r\n    clic: AudioClip = null;\r\n\r\n    @property({ type: AudioClip })\r\n    lover: AudioClip = null;\r\n\r\n    @property({ type: AudioClip })\r\n    lvic: AudioClip = null;\r\n    private soundCache: Map<string, AudioClip> = new Map();\r\n\r\n     protected start(): void {\r\n        Audio.instance = this;\r\n     }\r\n\r\n     private isSoundEnabled: boolean = true; // 是否启用音效\r\n    private isMusicEnabled: boolean = true; // 是否启用背景音乐\r\n\r\n     public playSound(soundPath: string) {\r\n        if (!this.isSoundEnabled || !this.audioSource) return;\r\n\r\n        // 如果缓存中已有音效，直接播放\r\n        if (this.soundCache.has(soundPath)) {\r\n            this.audioSource.playOneShot(this.soundCache.get(soundPath)!);\r\n            return;\r\n        }\r\n\r\n        // 动态加载音效资源\r\n        resources.load(soundPath, AudioClip, (err, clip) => {\r\n            if (err) {\r\n                console.error(`音效加载失败: ${soundPath}`, err);\r\n                return;\r\n            }\r\n            this.soundCache.set(soundPath, clip);\r\n            this.audioSource!.playOneShot(clip);\r\n        });\r\n    }\r\n    playDlive() {\r\n        this.audioSource.volume = 0.3;\r\n        this.audioSource.playOneShot(this.dlive);\r\n    }\r\n\r\n    playGameover() {\r\n        this.audioSource.volume = 0.3;\r\n        this.audioSource.playOneShot(this.gameover);\r\n    }\r\n    playCollider() {\r\n        this.audioSource.volume = 0.3;\r\n        this.audioSource.playOneShot(this.coll);\r\n    }\r\n    playClick() {\r\n        this.audioSource.volume = 0.3;\r\n        this.audioSource.playOneShot(this.clic);\r\n    }\r\n    playlevelover(){\r\n        this.audioSource.volume = 0.3;\r\n        this.audioSource.playOneShot(this.lover);\r\n    }\r\n    playlevelvic(){\r\n        this.audioSource.volume = 0.3;\r\n        this.audioSource.playOneShot(this.lvic);\r\n    }\r\n}\r\n\r\n\r\n","//AudioMgr.ts\r\nimport { Node, AudioSource, AudioClip, resources, director } from 'cc';\r\n/**\r\n * @en\r\n * this is a sington class for audio play, can be easily called from anywhere in you project.\r\n * @zh\r\n * 这是一个用于播放音频的单件类，可以很方便地在项目的任何地方调用。\r\n */\r\nexport class AudioMgr {\r\n    private static _inst: AudioMgr;\r\n    public static get inst(): AudioMgr {\r\n        if (this._inst == null) {\r\n            this._inst = new AudioMgr();\r\n        }\r\n        return this._inst;\r\n    }\r\n\r\n    private _audioSource: AudioSource;\r\n    constructor() {\r\n        //@en create a node as audioMgr\r\n        //@zh 创建一个节点作为 audioMgr\r\n        let audioMgr = new Node();\r\n        audioMgr.name = '__audioMgr__';\r\n\r\n        //@en add to the scene.\r\n        //@zh 添加节点到场景\r\n        director.getScene().addChild(audioMgr);\r\n\r\n        //@en make it as a persistent node, so it won't be destroied when scene change.\r\n        //@zh 标记为常驻节点，这样场景切换的时候就不会被销毁了\r\n        director.addPersistRootNode(audioMgr);\r\n\r\n        //@en add AudioSource componrnt to play audios.\r\n        //@zh 添加 AudioSource 组件，用于播放音频。\r\n        this._audioSource = audioMgr.addComponent(AudioSource);\r\n    }\r\n\r\n    public get audioSource() {\r\n        return this._audioSource;\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * play short audio, such as strikes,explosions\r\n     * @zh\r\n     * 播放短音频,比如 打击音效，爆炸音效等\r\n     * @param sound clip or url for the audio\r\n     * @param volume \r\n     */\r\n    playOneShot(sound: AudioClip | string, volume: number = 0.1) {\r\n        if (sound instanceof AudioClip) {\r\n            this._audioSource.playOneShot(sound, volume);\r\n        }\r\n        else {\r\n            resources.load(sound, (err, clip: AudioClip) => {\r\n                if (err) {\r\n                    console.log(err);\r\n                }\r\n                else {\r\n                    this._audioSource.playOneShot(clip, volume);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @en\r\n     * play long audio, such as the bg music\r\n     * @zh\r\n     * 播放长音频，比如 背景音乐\r\n     * @param sound clip or url for the sound\r\n     * @param volume \r\n     */\r\n    play(sound: AudioClip | string, volume: number = 0.1) {\r\n        if (sound instanceof AudioClip) {\r\n            this._audioSource.stop();\r\n            this._audioSource.clip = sound;\r\n            this._audioSource.loop = true;\r\n            this._audioSource.play();\r\n            this.audioSource.volume = volume;\r\n        }\r\n        else {\r\n            resources.load(sound, (err, clip: AudioClip) => {\r\n                if (err) {\r\n                    console.log(err);\r\n                }\r\n                else {\r\n                    this._audioSource.stop();\r\n                    this._audioSource.clip = clip;\r\n                    this._audioSource.play();\r\n                    this.audioSource.volume = volume;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * stop the audio play\r\n     */\r\n    stop() {\r\n        this._audioSource.stop();\r\n    }\r\n\r\n    /**\r\n     * pause the audio play\r\n     */\r\n    pause() {\r\n        this._audioSource.pause();\r\n    }\r\n\r\n    /**\r\n     * resume the audio play\r\n     */\r\n    resume() {\r\n        this._audioSource.play();\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, EventTouch, Vec2, UITransform } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('BackgroundScroll')\r\nexport class BackgroundScroll extends Component {\r\n    @property(Node)\r\n    background: Node | null = null; // 拖入背景图片节点\r\n\r\n    private startTouchPos = new Vec2(); // 改为 Vec2\r\n    private startBackgroundPos = new Vec2(); // 改为 Vec2\r\n\r\n    onLoad() {\r\n        // 注册触摸事件\r\n        this.node.on(Node.EventType.TOUCH_START, this.onTouchStart, this);\r\n        this.node.on(Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\r\n    }\r\n\r\n    onTouchStart(event: EventTouch) {\r\n        // 记录触摸起点\r\n        this.startTouchPos = event.getUILocation(); // getUILocation 返回 Vec2\r\n        if (this.background) {\r\n            const bgPos = this.background.position;\r\n            this.startBackgroundPos.set(bgPos.x, bgPos.y); // 设置为 Vec2\r\n        }\r\n    }\r\n\r\n    onTouchMove(event: EventTouch) {\r\n        if (!this.background) return;\r\n\r\n        // 计算滑动距离\r\n        const delta = event.getUILocation().subtract(this.startTouchPos);\r\n\r\n        // 更新背景位置\r\n        const newPos = new Vec2(\r\n            this.startBackgroundPos.x,\r\n            this.startBackgroundPos.y + delta.y\r\n        );\r\n\r\n        // 限制背景位置，防止超出图片范围\r\n        const bgHeight = this.background.getComponent(UITransform)!.height;\r\n        const maskHeight = this.node.getComponent(UITransform)!.height;\r\n        const minY = -(bgHeight / 2 - maskHeight / 2);\r\n        const maxY = bgHeight / 2 - maskHeight / 2;\r\n\r\n        newPos.y = Math.max(minY, Math.min(maxY, newPos.y));\r\n        this.background.setPosition(newPos.x, newPos.y); // setPosition 使用 Vec2 的 x, y\r\n    }\r\n}\r\n","import { _decorator, Component, Node, AudioClip, sys, game, AudioSource } from 'cc';\r\nimport { AudioMgr } from './AudioMgr';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('BGM')\r\nexport class BGM extends Component {\r\n    @property(AudioClip)\r\n    bgMusic: AudioClip = null;\r\n    state_play: boolean = false;\r\n    \r\n\r\n\r\n    start() {\r\n        const audioSource = AudioMgr.inst.audioSource;\r\n        if (audioSource.playing) return;\r\n        AudioMgr.inst.play(this.bgMusic);\r\n\r\n    }\r\n\r\n\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, director } from 'cc';\r\nimport { cufbParent } from '../cufbParent';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('BottomAdController')\r\nexport class BottomAdController extends Component {\r\n\r\n    @property(Node)\r\n    adButton: Node = null;  // Ad 按钮节点\r\n\r\n    @property(Node)\r\n    popupAd: Node = null;   // 弹窗广告节点\r\n\r\n    @property(Node)\r\n    exitButton: Node = null;  // 退出按钮节点\r\n\r\n    onLoad() {\r\n        // 初始化时隐藏弹窗广告\r\n        this.popupAd.active = false;\r\n\r\n        // 为 Ad 按钮添加点击事件\r\n        this.adButton.on(Button.EventType.CLICK, this.showPopupAd, this);\r\n\r\n        // 为 Exit 按钮添加点击事件\r\n        this.exitButton.on(Button.EventType.CLICK, this.hidePopupAd, this);\r\n    }\r\n\r\n    // 显示弹窗广告\r\n    showPopupAd() {\r\n        director.pause();\r\n        cufbParent.getInstance().changeBState();\r\n        this.popupAd.active = true;\r\n    }\r\n\r\n    // 隐藏弹窗广告\r\n    hidePopupAd() {\r\n        director.resume();\r\n        this.popupAd.active = false;\r\n    }\r\n}\r\n","import { _decorator, Component, Node, director } from 'cc';\r\nimport { MapPanel } from './Map/MapPanel';\r\nimport { StartUI } from './Start/StartUI';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('clickstartgame')\r\nexport class clickstartgame extends Component {\r\n    clickstartgame() {\r\n        setTimeout(()=>{\r\n            director.loadScene('loading');\r\n        },500);\r\n        \r\n    }\r\n    clickcancelgame() {\r\n        MapPanel.getInstance().hideleveldialog();\r\n    }\r\n    clickcancelspeed(){\r\n        StartUI.getInstance().hidespeeddialog();\r\n    }\r\n    clickStartspeed(){\r\n        StartUI.getInstance().OnStartButtonClick();\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Vec2, Prefab, instantiate, Vec3, tween, Collider2D, Contact2DType, IPhysics2DContact, input, Input, EventTouch, size, Tween, math, find, resources, Sprite, SpriteFrame } from 'cc';\r\nimport { fance } from './fance';\r\nimport { liveUI } from './liveUI';\r\nimport { GameManager } from './GameManager';\r\nimport { Audio } from './Audio';\r\nimport prefab from '../data/prefab';\r\nimport skin from '../data/skin';\r\nimport { curbMove } from './curbMove';\r\nconst { ccclass, property } = _decorator;\r\n\r\nenum Color {\r\n    Red,\r\n    Yellow,\r\n    purple,\r\n    while\r\n}\r\n\r\n@ccclass('cufbParent')\r\nexport class cufbParent extends Component {\r\n\r\n    // private static instance: cufbParent = null;\r\n\r\n    // // 提供给外部获取单例的方法\r\n    // public static getInstance(): cufbParent {\r\n    //     if (!this.instance) {\r\n    //         console.error('cufbParent 单例尚未初始化，请确保场景中存在挂载 cufbParent 的节点！');\r\n    //     }\r\n    //     return this.instance;\r\n    // }\r\n\r\n     //单例模式定义一个私有的静态变量\r\n     private static instance: cufbParent;\r\n     //外界访问instance\r\n     public static getInstance(): cufbParent {\r\n         return this.instance;\r\n     }\r\n\r\n\r\n\r\n    private currentRound: number;\r\n    @property\r\n    public blockSize: number = 50;\r\n    @property(Prefab)\r\n    c1: Prefab = null;\r\n    @property(Prefab)\r\n    c2: Prefab = null;\r\n    @property(Prefab)\r\n    c3: Prefab = null;\r\n    @property(Prefab)\r\n    c4: Prefab = null;\r\n    tileMatrix: Node[][] = [];\r\n    //\r\n    colorArray: number[][] = [];\r\n    //\r\n    public isMoving: boolean = false;\r\n    //\r\n    size: number;\r\n    //旋转状态\r\n    rotateState: boolean = false;\r\n    //\r\n    movesysmol: number;\r\n    //\r\n    state_button: boolean = true;\r\n    //碰撞状态\r\n    cstate: boolean = false;\r\n    //\r\n    @property(liveUI)\r\n    liveui: liveUI = null;\r\n    //死了的状态，每帧判断，就执行死了的那一帧\r\n    dstate: boolean = false;\r\n    //\r\n    indexArray: number[] = [];\r\n    posArray: Vec3[] = [];\r\n    pArray: Node[] = [];\r\n    titleMatrix_pos: Vec3[][] = [];\r\n    rewardNode = null;\r\n    //一轮里面只能生成一个\r\n    reward_time: boolean = false;\r\n    @property(Prefab)\r\n    reward1: Prefab = null;\r\n    @property(Prefab)\r\n    reward2: Prefab = null;\r\n    //动态图片地址\r\n    spriteFramePath = skin;\r\n    //动态预制体地址\r\n    prefabPaths = prefab;\r\n    //生成的方阵中有几种颜色\r\n    len: number = null;\r\n    //限时模式消除完一轮各0.7秒在生成新的，过程中不允许滑动\r\n    nullstate:boolean=false;\r\n    \r\n\r\n    start() {\r\n        \r\n        console.log(\"1\");\r\n        this.currentRound = 1;\r\n        this.startNewRound();\r\n\r\n    }\r\n\r\n\r\n    findCoordinates(node) {\r\n        for (let x = 0; x < this.tileMatrix.length; x++) {\r\n            for (let y = 0; y < this.tileMatrix[x].length; y++) {\r\n                if (this.tileMatrix[x][y] === node) {\r\n                    return { x, y };\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    PArray() {\r\n        for (let row = 0; row < this.size; row++) {\r\n            for (let col = 0; col < this.size; col++) {\r\n                this.pArray.push(this.tileMatrix[row][col]);\r\n                this.posArray.push(this.titleMatrix_pos[row][col])\r\n            }\r\n        }\r\n    }\r\n    upPArray() {\r\n        this.pArray = [];\r\n        this.posArray = [];\r\n        this.indexArray = [];\r\n    }\r\n\r\n\r\n    getRandomIndex(array) {\r\n        let index;\r\n        do {\r\n            index = Math.floor(Math.random() * this.size * this.size);\r\n        } while (!array.includes(index));\r\n        return index;\r\n    }\r\n\r\n    //生成道具种类方法\r\n    createreward(): Prefab {\r\n        let type_reward = Math.floor(Math.random() * 2);\r\n\r\n        // 根据颜色实例化对应的预制体\r\n        let rprefab: Prefab = null;\r\n        switch (type_reward) {\r\n            case 0:\r\n                rprefab = this.reward2;\r\n                break;\r\n            case 1:\r\n                rprefab = this.reward1;\r\n                break;\r\n        }\r\n        return rprefab;\r\n    }\r\n\r\n    childangle = null;\r\n    f() {\r\n        console.log('触发了f');\r\n        let index = this.getRandomIndex(this.indexArray);\r\n        this.PArray();\r\n        const nod = this.pArray[index]\r\n        const cr = this.findCoordinates(nod);\r\n        // const pos = new Vec3(cr.y * this.blockSize - (this.size / 2) * 40 + 20, cr.x * this.blockSize - (this.size / 2) * 40 + 20, 0)\r\n        const pos = this.posArray[index];\r\n        this.rewardNode = instantiate(this.createreward());\r\n        // reward.setParent(this.node);\r\n        this.node.addChild(this.rewardNode);\r\n        let childNodes = this.node.children; // 或者使用特定的子节点数组\r\n        for (let child of childNodes) {\r\n            this.childangle = child.angle;\r\n            break;\r\n        }\r\n        this.rewardNode.angle = this.childangle;\r\n        this.rewardNode.setPosition(pos);\r\n        // reward.setPosition(pos);\r\n        this.reward_time = true;\r\n        this.tileMatrix[cr.x][cr.y] = this.rewardNode;\r\n        this.colorArray[cr.x][cr.y] = 4;\r\n    }\r\n\r\n    countUniqueElementsIn2DArray(arr) {\r\n        // 将二维数组扁平化成一维数组\r\n        const flattenedArray = arr.flat();\r\n        // 创建一个 Set 来存储唯一元素\r\n        const uniqueElements = new Set(flattenedArray);\r\n        return uniqueElements.size;\r\n        // 返回唯一元素的数量\r\n    }\r\n    ff(arr) {\r\n        console.log(this.countUniqueElementsIn2DArray(arr)+'现在剩下矩阵的颜色数量');\r\n        console.log(this.len+'这一轮的len值');\r\n        if (this.countUniqueElementsIn2DArray(arr) <this.len+1) {\r\n            console.log('满足完全消除玩一个动物');\r\n            console.log('现在reward——time的值是'+this.reward_time);\r\n            if (this.reward_time) return;\r\n            console.log('触发了ff');\r\n            for (let row = 0; row < this.size; row++) {\r\n                for (let col = 0; col < this.size; col++) {\r\n                    if (this.colorArray[row][col] === null) {\r\n                        let node = this.getTileAt(row, col);\r\n                        this.PArray();\r\n                        const index = this.pArray.indexOf(node);\r\n                        this.indexArray.push(index);\r\n                    }\r\n                }\r\n            }\r\n            console.log(this.indexArray + \"数组\");\r\n            this.f();\r\n        }\r\n    }\r\n\r\n    private animatedNodes: Set<Node> = new Set<Node>();\r\n    moveNode(node: Node, targetWorldposition: Vec3, row: number, col: number) {\r\n        if (this.animatedNodes.has(node)) {\r\n            // 如果节点已经在集合中，则不再播放动画\r\n            return;\r\n        }\r\n        this.isMoving = true; // 标记开始移动\r\n        let pos=node.getWorldPosition();\r\n        this.colorArray[row][col] = null;\r\n        tween(node)\r\n            .to(0.5, { worldPosition: targetWorldposition })\r\n            .call(() => {\r\n                // 动画完成后的回调函数\r\n                this.isMoving = false; // 标记动画结束\r\n                // this.countUniqueElementsIn2DArray(this.colorArray);\r\n                this.cstate = false;//碰撞状态设为falses\r\n                console.log('1111');\r\n                this.animatedNodes.add(node); // 将节点添加到已播放动画的集合中\r\n                if (this.currentRound > 2) {\r\n                    console.log('现在是大于第三轮');\r\n                    this.ff(this.colorArray);\r\n                }\r\n            })\r\n            .start(); // 开始动画\r\n        this.cstate = true;\r\n    }\r\n    updateround() {\r\n        this.changeBState();\r\n        this.nullstate=false;\r\n        this.currentRound++;\r\n        this.startNewRound();\r\n        this.reward_time = false;\r\n        if(GameManager.getInstance().rewardtype==4){\r\n            GameManager.getInstance().rewardtype = 4;\r\n        }\r\n        else{\r\n            GameManager.getInstance().rewardtype = null;\r\n        }\r\n       \r\n    }\r\n    updaterotate() {\r\n        let childNodes = this.node.children; // 或者使用特定的子节点数组\r\n        for (let child of childNodes) {\r\n            child.eulerAngles = Vec3.ZERO;\r\n            child.destroy();\r\n        }\r\n        this.node.eulerAngles = Vec3.ZERO;\r\n    }\r\n    startNewRound() {\r\n        // 根据当前轮次创建不同大小的游戏面板\r\n        switch (this.currentRound) {\r\n            case 1:\r\n                this.size = 2;\r\n                this.init(this.size);\r\n                break;\r\n            case 2:\r\n                this.updaterotate();\r\n                this.size = 2;\r\n                this.init(this.size);\r\n                break;\r\n            case 3:\r\n                this.updaterotate();\r\n                this.size = 3;\r\n                this.init(this.size);\r\n                break;\r\n            case 4:\r\n                this.updaterotate();\r\n                this.size = 4;\r\n                this.init(this.size);\r\n                break;\r\n            // 可以根据需要继续添加更多轮次\r\n            default:\r\n                this.updaterotate();\r\n                this.size = 5;\r\n                this.init(this.size);\r\n                return;\r\n        }\r\n\r\n    }\r\n\r\n    ybnum: number = 0\r\n    init(size: number) {\r\n        for (let i = 0; i < size; i++) {\r\n            this.tileMatrix[i] = new Array(size);\r\n            this.colorArray[i] = new Array(size);\r\n            this.titleMatrix_pos[i] = new Array(size);\r\n            for (let j = 0; j < size; j++) {\r\n                // 随机选择一个颜色\r\n                let color = Math.floor(Math.random() * 4);\r\n\r\n                // 根据颜色实例化对应的预制体\r\n                let prefab: Prefab = null;\r\n                switch (color) {\r\n                    case Color.Red:\r\n                        prefab = this.c4;\r\n                        break;\r\n                    case Color.Yellow:\r\n                        prefab = this.c2;\r\n                        break;\r\n                    case Color.purple:\r\n                        prefab = this.c3;\r\n                        break;\r\n                    case Color.while:\r\n                        prefab = this.c1;\r\n                        break;\r\n                }\r\n\r\n                // 实例化预制体并添加到场景中\r\n                let tile = instantiate(prefab);\r\n                tile.setParent(this.node);\r\n                let pos=new Vec3(j * this.blockSize - (size / 2) * 50 + 25, i * this.blockSize - (size / 2) * 50 + 25, 0);\r\n                tile.setPosition(pos);\r\n\r\n                // 将实例化的预制体存储到矩阵中\r\n                this.tileMatrix[i][j] = tile;\r\n                this.colorArray[i][j] = color;\r\n                this.titleMatrix_pos[i][j] = pos; \r\n            }\r\n        }\r\n        this.len = this.countUniqueElementsIn2DArray(this.colorArray);\r\n    }\r\n\r\n    \r\n\r\n    //如果向右移动：\r\n    private touchStartPos: Vec2\r\n\r\n    onLoad() {\r\n        // if (!cufbParent.instance) {\r\n        //     cufbParent.instance = this;\r\n        // } else {\r\n        //     console.warn('cufbParent 实例已存在，销毁多余实例！');\r\n        //     this.destroy();\r\n        // }\r\n        // 监听触摸事件\r\n        cufbParent.instance = this;\r\n        input.on(Input.EventType.TOUCH_START, this.onTouchStart, this);\r\n        input.on(Input.EventType.TOUCH_END, this.onTouchEnd, this);\r\n    }\r\n\r\n    // 触摸开始事件处理\r\n    onTouchStart(event: EventTouch) {\r\n        console.log(\"点击\");\r\n        this.touchStartPos = event.getLocation();\r\n    }\r\n\r\n\r\n    // 触摸结束或取消事件处理\r\n    onTouchEnd(event: EventTouch) {\r\n        console.log(\"松开\");\r\n        let touchEndPos = event.getLocation();\r\n        let swipeDirection = this.getSwipeDirection(this.touchStartPos, touchEndPos);\r\n        this.handleSwipe(swipeDirection);\r\n    }\r\n\r\n    // 获取滑动方向\r\n    private getSwipeDirection(startPos: Vec2, endPos: Vec2): string {\r\n        let deltaX = endPos.x - startPos.x;\r\n        let deltaY = endPos.y - startPos.y;\r\n\r\n        if (Math.abs(deltaX) > Math.abs(deltaY)) {\r\n            // 水平方向滑动\r\n            if (deltaX > 0) {\r\n                return 'right';\r\n            } else if (deltaX < 0) {\r\n                return 'left';\r\n            }\r\n        } else {\r\n            // 垂直方向滑动\r\n            if (deltaY > 0) {\r\n                return 'up';\r\n            } else if (deltaY < 0) {\r\n                return 'down';\r\n            }\r\n        }\r\n\r\n        return 'none'; // 没有滑动或者滑动距离小于阈值\r\n    }\r\n\r\n\r\n    // 处理滑动事件\r\n    private handleSwipe(direction: string) {\r\n        if (GameManager.getInstance().gameoverState || this.rotateState) return;\r\n        switch (direction) {\r\n            case 'up':\r\n                console.log(\"up\");\r\n                if (!GameManager.getInstance().isAnimationFinished) return;\r\n                console.log('Swipe Up');\r\n                // 处理向上滑动逻辑\r\n                this.markToRemove('u');\r\n                // this.removeBlocksByColor_u(this.size);\r\n                if (!this.cstate) {\r\n                    GameManager.getInstance().dlive();//扣除生命值，并且展示其ui\r\n                }\r\n                break;\r\n            case 'down':\r\n                if (!GameManager.getInstance().isAnimationFinished) return;\r\n                console.log('Swipe Down');\r\n                // 处理向下滑动逻辑\r\n                this.markToRemove('d');\r\n                // this.removeBlocksByColor_d(this.size);\r\n                if (!this.cstate) {\r\n                    GameManager.getInstance().dlive();\r\n                }\r\n                break;\r\n            case 'left':\r\n                if (!GameManager.getInstance().isAnimationFinished) return;\r\n                console.log('Swipe Left');\r\n                // 处理向左滑动逻辑\r\n                this.markToRemove('l');\r\n                // this.removeBlocksByColor_l(this.size);\r\n                if (!this.cstate) {\r\n                    GameManager.getInstance().dlive();\r\n                }\r\n                break;\r\n            case 'right':\r\n                if (!GameManager.getInstance().isAnimationFinished) return;\r\n                console.log('Swipe Right');\r\n                // 处理向右滑动逻辑\r\n                this.markToRemove('r');\r\n                // this.removeBlocksByColor_r(this.size);\r\n                if (!this.cstate) {\r\n                    GameManager.getInstance().dlive();\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    markToRemove(direction: 'r' | 'l' | 'd' | 'u') {\r\n        const size = this.size;\r\n        const isRow = direction === 'r' || direction === 'l';\r\n        const isCol = direction === 'r' || direction === 'u';\r\n        const isContinuousColor = (color: number | null, targetColor: number) => color === targetColor || color === null || color === 4;\r\n        const toRemove: boolean[][] = Array.from({ length: size }, () => Array(size).fill(false));\r\n\r\n        let start = direction === 'r' || direction === 'u' ? size - 1 : 0;\r\n        let end = direction === 'r' || direction === 'u' ? 0 : size - 1;\r\n        for (let i = 0; i < size; i++) {\r\n            let consecutiveColorCount = 0;\r\n            let num_null=0;\r\n            for (let j = start; isCol ? j >= end : j <= end; isCol ? j-- : j++) {\r\n                let color = this.colorArray[isRow ? i : j][isRow ? j : i];\r\n                let targetColor = this.getTargetColor(direction);\r\n                if (isContinuousColor(color, targetColor)) {\r\n                    consecutiveColorCount++;\r\n                } else {\r\n\r\n                    if (consecutiveColorCount > 0) {\r\n        \r\n                        for (let a = j + (isCol ? 1 : -1); isCol ? a <= j + (consecutiveColorCount) : a >= j - (consecutiveColorCount); isCol ? a++ : a--) {\r\n                            isRow ? toRemove[i][a] = true : toRemove[a][i] = true;\r\n                        }\r\n                        consecutiveColorCount = 0;\r\n                    }\r\n                    break;\r\n                }\r\n\r\n                if (consecutiveColorCount > 0 && (j === end)) {\r\n                    for (let a = j; isCol ? a < j + (consecutiveColorCount) : a > j - (consecutiveColorCount); isCol ? a++ : a--) {\r\n                        isRow ? toRemove[i][a] = true : toRemove[a][i] = true;\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n        this.moveNodes(toRemove, size, direction);\r\n        if (this.areAllElementsNull(this.colorArray)) {\r\n            if(this.nullstate) return;\r\n            this.nullstate=true;\r\n            this.changeBStatef();\r\n            setTimeout(() => {\r\n                // if (!this.ybState) return;\r\n            // 如果二维数组中的所有元素都是null，则执行这里的代码\r\n            this.updateround();\r\n            GameManager.getInstance().aTime();\r\n            // // console.log(\"加时间\");\r\n            // GameManager.getInstance().addTime();\r\n            this.upPArray();\r\n            // this.ybState=false;\r\n\r\n            }, 700);\r\n            \r\n        }\r\n    }\r\n    private getTargetColor(direction: 'r' | 'l' | 'd' | 'u'): number {\r\n        switch (direction) {\r\n            case 'r': return 1;\r\n            case 'l': return 3;\r\n            case 'd': return 0;\r\n            case 'u': return 2;\r\n        }\r\n    }\r\n\r\n    fx(){\r\n        \r\n    }\r\n\r\n    private moveNodes(toRemove: boolean[][], size: number, direction: 'r' | 'l' | 'd' | 'u'): void {\r\n        for (let row = 0; row < size; row++) {\r\n                for (let col = 0; col < size; col++) {\r\n                    if (toRemove[row][col] === true&&this.colorArray[row][col]!==null) {\r\n                        let node = this.getTileAt(row, col);\r\n                        let pos=node.getWorldPosition()\r\n                        const movePosition = (direction: 'r' | 'l' | 'd' | 'u') => {\r\n                        switch (direction) {\r\n                            case 'r': return new Vec3(pos.x+500,pos.y,pos.z);\r\n                            case 'l': return new Vec3(pos.x-500,pos.y,pos.z);\r\n                            case 'd': return new Vec3(pos.x,pos.y-500,pos.z);\r\n                            case 'u': return new Vec3(pos.x,pos.y+500,pos.z);\r\n                        }\r\n                    };\r\n                        const position=movePosition(direction);\r\n\r\n                        this.moveNode(node, position, row, col);\r\n                    }\r\n                }\r\n            }\r\n    }\r\n\r\n    changeBState() {\r\n        this.state_button = true;  //防止没有播放完动画点击\r\n    }\r\n    changeBStatef(){\r\n        this.state_button = false;   //播放动画时无法点击按钮\r\n    }\r\n\r\n    getTileAt(x: number, y: number): Node {\r\n        return this.tileMatrix[x][y];\r\n    }\r\n\r\n    private currentTween: Tween<Node> = null;\r\n    onrotateButton() {\r\n        if (GameManager.getInstance().gameoverState || this.isMoving) return; //结束不能点击\r\n        if (!GameManager.getInstance().isAnimationFinished) return;//倒计时前不能点击\r\n        find(\"GameManager/audio\").getComponent(Audio).playClick();\r\n        if (!this.state_button) return;\r\n        let newAngle = this.node.angle - 90;\r\n        this.rotateState = true;\r\n        // 创建父节点的旋转动画\r\n        let parentTween = tween(this.node)\r\n            .to(1, { angle: newAngle }, { easing: 'quadInOut' })\r\n            .call(() => {\r\n                this.rotateState = false; // 在父节点的动画结束时更新状态\r\n                this.changeBState()\r\n            });\r\n\r\n        // 创建子节点的旋转动画\r\n        let childNodes = this.node.children; // 或者使用特定的子节点数组\r\n\r\n        for (let child of childNodes) {\r\n\r\n            let childAngle = child.angle + 90;\r\n            // console.log(child.eulerAngles.z);\r\n            // 创建并启动子节点的旋转动画\r\n            tween(child)\r\n                .to(1, { angle: childAngle }, { easing: 'quadInOut' })\r\n                .start();\r\n        }\r\n\r\n\r\n        // 同时启动父节点和子节点的动画\r\n        parentTween.start();\r\n        this.changeBStatef();\r\n\r\n        // 如果需要跟踪当前的 tween，可以存储它们\r\n        this.currentTween = parentTween;\r\n        // 注意：你也可以存储子节点的 tween，如果需要对其进行控制\r\n        this.tileMatrix = this.rotateMatrix90Degrees(this.tileMatrix);\r\n        this.colorArray = this.rotateMatrix90Degrees(this.colorArray);\r\n        this.titleMatrix_pos = this.rotateMatrix90Degrees(this.titleMatrix_pos);\r\n    }\r\n\r\n    rotateMatrix90Degrees(matrix: any[][]): any[][] {\r\n        const size = matrix.length;\r\n        const rotatedMatrix = Array.from({ length: size }, () => Array(size).fill(null));\r\n\r\n        for (let i = 0; i < size; i++) {\r\n            for (let j = 0; j < size; j++) {\r\n                rotatedMatrix[size - 1 - j][i] = matrix[i][j];\r\n            }\r\n        }\r\n\r\n        return rotatedMatrix;\r\n    }\r\n    //检查数组中是否都是null元素\r\n    areAllElementsNull(twoDimensionalArray: any[][]): boolean {\r\n        return twoDimensionalArray.every(subArray =>\r\n            subArray.every(element => element === null)\r\n        );\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        //更新轮次\r\n        \r\n        //游戏结束\r\n        if (this.dstate) return;\r\n        if (GameManager.getInstance().live === 0) {\r\n            console.log('死了');\r\n            GameManager.getInstance().gameover();\r\n            this.dstate = true;\r\n        }\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Collider2D, IPhysics2DContact, tween, Contact2DType, Sprite, Vec3, find, director } from 'cc';\r\nimport { cufbParent } from './cufbParent';\r\nimport { fance } from './fance';\r\nimport { GameManager } from './GameManager';\r\nimport { tx_col } from './texiao/tx_col';\r\nimport { Audio } from './Audio';\r\nimport { MainGamePanel } from './MainGamePanel';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('curbMove')\r\nexport class curbMove extends Component {\r\n    private collider: Collider2D = null;\r\n    public hasAnimated: boolean = false;\r\n    @property()\r\n    score_self: number = 5;\r\n\r\n    start() {\r\n        this.collider = this.getComponent(Collider2D);\r\n        if (this.collider) {\r\n            this.collider.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D, contact: IPhysics2DContact | null) {\r\n        if (otherCollider.getComponent(fance)) {\r\n            console.log(\"发生碰撞了\");\r\n            if(GameManager.getInstance().timeoutState){\r\n                GameManager.getInstance().addscore(this.score_self);\r\n            }\r\n            if (find('GameManager/audio').getComponent(Audio).audioSource.playing) return;\r\n            find('GameManager/audio').getComponent(Audio).playCollider();\r\n            const sprite = this.node.getComponent(Sprite);\r\n            sprite.enabled = false;\r\n            selfCollider.enabled = false;\r\n            let pos = selfCollider.node.getWorldPosition();\r\n            let pos2 = otherCollider.node.getWorldPosition();\r\n            console.log(pos.x + \"pos.x\");\r\n            console.log(pos.y + \"pos.y\");\r\n            console.log(pos.z + \"pos.z\");\r\n            let kind;\r\n            if (pos2.x > 500 && pos2.x < 800) {\r\n                kind = 1;\r\n                pos = new Vec3(645, pos.y, pos.z);\r\n            }\r\n            else if (pos2.y > 700 && pos2.y < 1200) {\r\n                kind = 2;\r\n                if(GameManager.getInstance().timeoutState){\r\n                    pos = new Vec3(pos.x, 946, pos.z);\r\n                }else{\r\n                    pos=new Vec3(pos.x,930,pos.z);\r\n                }\r\n                \r\n            }\r\n            else if (pos2.x > -100 && pos2.x < 300) {\r\n                kind = 3;\r\n                pos = new Vec3(75, pos.y, pos.z);\r\n            }\r\n            else {\r\n                kind = 4;\r\n                if(GameManager.getInstance().timeoutState){\r\n                    pos = new Vec3(pos.x, 377, pos.z); \r\n                }\r\n                else{\r\n                    pos=new Vec3(pos.x,360,pos.z);\r\n                }\r\n            }\r\n\r\n            find('Canvas/Mid/Fance').getComponent(tx_col).txcreator(1, pos);\r\n            // cufbParent.getInstance().getcstate();\r\n        }\r\n    }\r\n\r\n\r\n    update(deltaTime: number) {\r\n\r\n        // if (cufbParent.getInstance().rotateState) {\r\n        //     tween(this.node)\r\n        //         .to(1, { angle: 90 }, { easing: 'quadInOut' }) // 这里设置旋转1秒，使用二次缓动效果\r\n        //         .start();\r\n        // let Angle = this.node.angle;\r\n        // tween(this.node)\r\n        //     .to(1, { angle: Angle + 90 }, { easing: 'quadInOut' }) // 这里设置旋转1秒，使用二次缓动效果\r\n        //     .start();\r\n    }\r\n}\r\n\r\n\r\n\r\n","import { Color, Canvas, UITransform, instantiate, math, Toggle, TextureCube, _decorator, Component, Button, labelAssembler, game, director, Node, Scene, renderer, CameraComponent, Label, ForwardPipeline, RichText } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('internal.DebugViewRuntimeControl')\r\nexport class DebugViewRuntimeControl extends Component {\r\n    @property(Node)\r\n    compositeModeToggle: Node | null = null;\r\n    @property(Node)\r\n    singleModeToggle: Node | null = null;\r\n    @property(Node)\r\n    EnableAllCompositeModeButton: Node | null = null;\r\n\t_single: number = 0;\r\n\r\n    private strSingle: string[] = [\r\n        'No Single Debug',\r\n        'Vertex Color',\r\n        'Vertex Normal',\r\n        'Vertex Tangent',\r\n        'World Position',\r\n        'Vertex Mirror',\r\n        'Face Side',\r\n        'UV0',\r\n        'UV1',\r\n        'UV Lightmap',\r\n        'Project Depth',\r\n        'Linear Depth',\r\n\r\n        'Fragment Normal',\r\n        'Fragment Tangent',\r\n        'Fragment Binormal',\r\n        'Base Color',\r\n        'Diffuse Color',\r\n        'Specular Color',\r\n        'Transparency',\r\n        'Metallic',\r\n        'Roughness',\r\n        'Specular Intensity',\r\n        'IOR',\r\n\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Direct All',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Env All',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Fresnel',\r\n        'Direct Transmit Diffuse',\r\n        'Direct Transmit Specular',\r\n        'Env Transmit Diffuse',\r\n        'Env Transmit Specular',\r\n        'Transmit All',\r\n        'Direct Internal Specular',\r\n        'Env Internal Specular',\r\n        'Internal All',\r\n\r\n        'Fog',\r\n    ];\r\n    private strComposite: string[] = [\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Normal Map',\r\n        'Fog',\r\n\r\n        'Tone Mapping',\r\n        'Gamma Correction',\r\n\r\n        'Fresnel',\r\n        'Transmit Diffuse',\r\n        'Transmit Specular',\r\n        'Internal Specular',\r\n        'TT',\r\n    ];\r\n    private strMisc: string[] = [\r\n        'CSM Layer Coloration',\r\n        'Lighting With Albedo',\r\n    ];\r\n\r\n    private compositeModeToggleList: Node[] = [];\r\n    private singleModeToggleList: Node[] = [];\r\n    private miscModeToggleList: Node[] = [];\r\n    private textComponentList: RichText[] = [];\r\n    private labelComponentList: Label[] = [];\r\n    private textContentList: string[] = [];\r\n    private hideButtonLabel: Label;\r\n    start() {\r\n        // get canvas resolution\r\n        const canvas = this.node.parent.getComponent(Canvas);\r\n        if (!canvas) {\r\n            console.error('debug-view-runtime-control should be child of Canvas');\r\n            return;\r\n        }\r\n\r\n        const uiTransform = this.node.parent.getComponent(UITransform);\r\n        const halfScreenWidth = uiTransform.width * 0.5;\r\n        const halfScreenHeight = uiTransform.height * 0.5;\r\n\r\n        let x = -halfScreenWidth + halfScreenWidth * 0.1, y = halfScreenHeight - halfScreenHeight * 0.1;\r\n        const width = 200, height = 20;\r\n\r\n        // new nodes\r\n        const miscNode = this.node.getChildByName('MiscMode');\r\n        const buttonNode = instantiate(miscNode);\r\n        buttonNode.parent = this.node;\r\n        buttonNode.name = 'Buttons';\r\n        const titleNode = instantiate(miscNode);\r\n        titleNode.parent = this.node;\r\n        titleNode.name = 'Titles';\r\n\r\n        // title\r\n        for (let i = 0; i < 2; i++) {\r\n            const newLabel = instantiate(this.EnableAllCompositeModeButton.getChildByName('Label'));\r\n            newLabel.setPosition(x + (i > 0 ? 50 + width * 2 : 150), y, 0.0);\r\n            newLabel.setScale(0.75, 0.75, 0.75);\r\n            newLabel.parent = titleNode;\r\n            const labelComponent = newLabel.getComponent(Label);\r\n            labelComponent.string = i ? '----------Composite Mode----------' : '----------Single Mode----------';\r\n            labelComponent.color = Color.WHITE;\r\n            labelComponent.overflow = 0;\r\n            this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        }\r\n\r\n        y -= height;\r\n        // single\r\n        let currentRow = 0;\r\n        for (let i = 0; i < this.strSingle.length; i++, currentRow++) {\r\n            if (i === this.strSingle.length >> 1) {\r\n                x += width;\r\n                currentRow = 0;\r\n            }\r\n            const newNode = i ? instantiate(this.singleModeToggle) : this.singleModeToggle;\r\n            newNode.setPosition(x, y - height * currentRow, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.singleModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strSingle[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleSingleMode, this);\r\n\r\n            this.singleModeToggleList[i] = newNode;\r\n        }\r\n\r\n        x += width;\r\n        // buttons\r\n        this.EnableAllCompositeModeButton.setPosition(x + 15, y, 0.0);\r\n        this.EnableAllCompositeModeButton.setScale(0.5, 0.5, 0.5);\r\n        this.EnableAllCompositeModeButton.on(Button.EventType.CLICK, this.enableAllCompositeMode, this);\r\n        this.EnableAllCompositeModeButton.parent = buttonNode;\r\n        let labelComponent = this.EnableAllCompositeModeButton.getComponentInChildren(Label);\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const changeColorButton = instantiate(this.EnableAllCompositeModeButton);\r\n        changeColorButton.setPosition(x + 90, y, 0.0);\r\n        changeColorButton.setScale(0.5, 0.5, 0.5);\r\n        changeColorButton.on(Button.EventType.CLICK, this.changeTextColor, this);\r\n        changeColorButton.parent = buttonNode;\r\n        labelComponent = changeColorButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'TextColor';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const HideButton = instantiate(this.EnableAllCompositeModeButton);\r\n        HideButton.setPosition(x + 200, y, 0.0);\r\n        HideButton.setScale(0.5, 0.5, 0.5);\r\n        HideButton.on(Button.EventType.CLICK, this.hideUI, this);\r\n        HideButton.parent = this.node.parent;\r\n        labelComponent = HideButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'Hide UI';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        this.hideButtonLabel = labelComponent;\r\n\r\n        // misc\r\n        y -= 40;\r\n        for (let i = 0; i < this.strMisc.length; i++) {\r\n            const newNode = instantiate(this.compositeModeToggle);\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = miscNode;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strMisc[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            const toggleComponent = newNode.getComponent(Toggle);\r\n            toggleComponent.isChecked = i ? true : false;\r\n            newNode.on(Toggle.EventType.TOGGLE, i ? this.toggleLightingWithAlbedo : this.toggleCSMColoration, this);\r\n            this.miscModeToggleList[i] = newNode;\r\n        }\r\n\r\n        // composite\r\n        y -= 150;\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            const newNode = i ? instantiate(this.compositeModeToggle) : this.compositeModeToggle;\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.compositeModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strComposite[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleCompositeMode, this);\r\n\r\n            this.compositeModeToggleList[i] = newNode;\r\n        }\r\n    }\r\n\r\n    isTextMatched(textUI, textDescription) : boolean {\r\n        let tempText = new String(textUI);\r\n        const findIndex = tempText.search('>');\r\n        if (findIndex === -1) {\r\n            return textUI === textDescription;\r\n        } else {\r\n            tempText = tempText.substr(findIndex + 1);\r\n            tempText = tempText.substr(0, tempText.search('<'));\r\n            return tempText === textDescription;\r\n        }\r\n    }\r\n    toggleSingleMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strSingle.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strSingle[i])) {\r\n                debugView.singleMode = i;\r\n            }\r\n        }\r\n    }\r\n    toggleCompositeMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strComposite[i])) {\r\n                debugView.enableCompositeMode(i, toggle.isChecked);\r\n            }\r\n        }\r\n    }\r\n    toggleLightingWithAlbedo(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.lightingWithAlbedo = toggle.isChecked;\r\n    }\r\n    toggleCSMColoration(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.csmLayerColoration = toggle.isChecked;\r\n    }\r\n    enableAllCompositeMode(button: Button) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.enableAllCompositeMode(true);\r\n        for (let i = 0; i < this.compositeModeToggleList.length; i++) {\r\n            const toggleComponent = this.compositeModeToggleList[i].getComponent(Toggle);\r\n            toggleComponent.isChecked = true;\r\n        }\r\n\r\n        let toggleComponent = this.miscModeToggleList[0].getComponent(Toggle);\r\n        toggleComponent.isChecked = false;\r\n        debugView.csmLayerColoration = false;\r\n        toggleComponent = this.miscModeToggleList[1].getComponent(Toggle);\r\n        toggleComponent.isChecked = true;\r\n        debugView.lightingWithAlbedo = true;\r\n    }\r\n    hideUI(button: Button) {\r\n        const titleNode = this.node.getChildByName('Titles');\r\n        const activeValue = !titleNode.active;\r\n        this.singleModeToggleList[0].parent.active = activeValue;\r\n        this.miscModeToggleList[0].parent.active = activeValue;\r\n        this.compositeModeToggleList[0].parent.active = activeValue;\r\n        this.EnableAllCompositeModeButton.parent.active = activeValue;\r\n        titleNode.active = activeValue;\r\n        this.hideButtonLabel.string = activeValue ? 'Hide UI' : 'Show UI';\r\n    }\r\n\r\n    private _currentColorIndex = 0;\r\n    private strColor: string[] = [\r\n        '<color=#ffffff>',\r\n        '<color=#000000>',\r\n        '<color=#ff0000>',\r\n        '<color=#00ff00>',\r\n        '<color=#0000ff>',\r\n    ];\r\n    private color: Color[] = [\r\n        Color.WHITE,\r\n        Color.BLACK,\r\n        Color.RED,\r\n        Color.GREEN,\r\n        Color.BLUE,\r\n    ];\r\n    changeTextColor(button: Button) {\r\n        this._currentColorIndex++;\r\n        if (this._currentColorIndex >= this.strColor.length) {\r\n            this._currentColorIndex = 0;\r\n        }\r\n        for (let i = 0; i < this.textComponentList.length; i++) {\r\n            this.textComponentList[i].string = this.strColor[this._currentColorIndex] + this.textContentList[i] + '</color>';\r\n        }\r\n        for (let i = 0; i < this.labelComponentList.length; i++) {\r\n            this.labelComponentList[i].color = this.color[this._currentColorIndex];\r\n        }\r\n    }\r\n\r\n    onLoad() {\r\n    }\r\n    update(deltaTime: number) {\r\n    }\r\n}\r\n","import { _decorator, Component, Node, Collider2D, Contact2DType, IPhysics2DContact, Sprite, find, Animation } from 'cc';\r\nimport { GameManager } from './GameManager';\r\nimport { reward, RewardType } from './reward';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('fance')\r\nexport class fance extends Component {\r\n    private collider: Collider2D = null;\r\n    start() {\r\n        this.collider = this.getComponent(Collider2D);\r\n        if (this.collider) {\r\n            this.collider.on(Contact2DType.BEGIN_CONTACT, this.onBeginContact, this);\r\n        }\r\n    }\r\n\r\n    onBeginContact(selfCollider: Collider2D, otherCollider: Collider2D, contact: IPhysics2DContact | null) {\r\n        const Reward = otherCollider.getComponent(reward)\r\n        if (Reward) {\r\n            //随机奖励道具方法\r\n            this.onContactReward(Reward)\r\n        }\r\n    }\r\n\r\n    onContactReward(Reward: reward) {\r\n        switch (Reward.rewardType) {\r\n            case  RewardType.half:\r\n                GameManager.getInstance().rewardtype=0;\r\n                find('Canvas/Mid/tiptx2').getComponent(Animation).play('tiptx');\r\n                break;\r\n            case RewardType.Two:\r\n                GameManager.getInstance().rewardtype = 3;\r\n                find('Canvas/Mid/tiptx1').getComponent(Animation).play('tiptx');\r\n                break;\r\n            case RewardType.pause:\r\n                GameManager.getInstance().rewardtype = 4;\r\n                GameManager.getInstance().pausetime = Reward.rewardpausetime;\r\n                find('Canvas/Top/timeUI/pausebg').getComponent(Animation).play('pausetx');\r\n        \r\n                break;\r\n\r\n        }\r\n        Reward.getComponent(Collider2D).enabled = false;\r\n        Reward.getComponent(Sprite).enabled = false;\r\n    }\r\n\r\n\r\n\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Animation, Component, director, Label, Node, AudioClip, find, AudioSource, Sprite, Color, tween, Vec3, SpriteFrame } from 'cc';\r\nimport { liveUI } from './liveUI';\r\nimport { GameoverUI } from './GameoverUI';\r\nimport { TimeUI } from './TimeUI';\r\nimport { ScoreUI } from './ScoreUI';\r\nimport { pauseui } from './pauseui';\r\nimport { cufbParent } from './cufbParent';\r\nimport { Audio } from './Audio';\r\nimport { newcurbeParent } from './newcurbeParent';\r\nimport { MainGamePanel } from './MainGamePanel';\r\nimport { All } from './all';\r\nimport { MapPanel } from './Map/MapPanel';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GameManager')\r\nexport class GameManager extends Component {\r\n    //单例模式定义一个私有的静态变量\r\n    private static instance: GameManager;\r\n    //外界访问instance\r\n    public static getInstance(): GameManager {\r\n        return this.instance;\r\n    }\r\n    //游戏倒数时长\r\n    @property()\r\n    time: number = 60;\r\n    //游戏时长计时器\r\n    totaltime = 0;\r\n    @property()\r\n    public live: number = 3;\r\n    //增加倒计时状态\r\n    atimeState: boolean = false;\r\n\r\n    // private timer: number = 0; // 当前计时器的时间\r\n    @property(liveUI)\r\n    liveui: liveUI = null;\r\n    @property(GameoverUI)\r\n    GameoverUI: GameoverUI = null;\r\n    @property(TimeUI)\r\n    TimeUI: TimeUI = null;\r\n    @property(ScoreUI)\r\n    ScoreUI: ScoreUI = null;\r\n    score: number = 0;\r\n    @property(Animation)\r\n    animation: Animation = null;\r\n    @property(Animation)\r\n    animation_add: Animation = null;\r\n    @property(pauseui)\r\n    pauseui: pauseui = null;\r\n    @property(Node)\r\n    //\r\n    countdown: Node = null;\r\n    bg: Node = null;\r\n    //游戏开始时展示最高分\r\n    @property(Label)\r\n    socre_high: Label = null;\r\n    high_socre: number = 0;\r\n\r\n    isAnimationFinished: boolean = false;\r\n    //游戏结束状态\r\n    gameoverState = false;\r\n    //暂停游戏时间\r\n    private remainingTime: number = 10; // 倒计时剩余时间，初始化为60秒\r\n    private timer = null; // 用于存储setTimeout返回的定时器ID\r\n    //音效\r\n    //\r\n    @property(Animation)\r\n    animation_dlive: Animation = null;\r\n    @property(Node)\r\n    victroyui: Node = null;\r\n    //判断是否是无尽模式\r\n    timeoutState: boolean;\r\n    //\r\n    @property(SpriteFrame)\r\n    frame_sp: SpriteFrame = null;\r\n\r\n\r\n    start() {\r\n        this.timeoutState = false;\r\n        if (!director.getScene().getChildByName('Canvas').getComponent(MainGamePanel)) {\r\n            this.timeoutState = true;\r\n        }\r\n        GameManager.instance = this;\r\n        if (this.timeoutState) {\r\n            this.socre_high.string = this.highest_score().toString();\r\n            this.liveui.liveUIChange(this.live);\r\n            //监听动画结束事件\r\n            this.animation.on(Animation.EventType.FINISHED, () => {\r\n                this.isAnimationFinished = true;\r\n                this.bg = this.countdown.getChildByName('countdownbg');\r\n                this.bg.active = false;\r\n                // AudioMgr.inst.play(this.bgm);\r\n            });\r\n        }\r\n    }\r\n    onAnimationFinish() {\r\n        // 更新标志\r\n        this.isAnimationFinished = true;\r\n\r\n        // 在这里执行动画结束后需要执行的逻辑\r\n        console.log('Animation finished!');\r\n    }\r\n\r\n    //增加时间\r\n    addTime_reward() {\r\n        this.time = 20;\r\n        this.TimeUI.TimeUI(this.time);\r\n    }\r\n    //增加生命\r\n    alive() {\r\n        this.live = 3;\r\n        this.liveui.liveUIChange(this.live);\r\n    }\r\n    //扣除生命\r\n    dlive() {\r\n        this.live -= 1;\r\n        if (this.live <= 0) {\r\n            this.live = 0;\r\n        }\r\n        find(\"GameManager/audio\").getComponent(Audio).playDlive();\r\n        this.animation_dlive.play('dliveUI');\r\n        this.liveui.liveUIChange(this.live);\r\n    }\r\n    //倒计时-1秒\r\n    dTime() {\r\n        this.time -= 1;\r\n        if (this.time == 0) {\r\n            this.time = 0;\r\n        }\r\n        this.TimeUI.TimeUI(this.time);\r\n    }\r\n\r\n    aTime() {\r\n        this.atimeState = true;\r\n        this.time += 2;\r\n\r\n    }\r\n    rewardtype: number = null;\r\n    //分数增加\r\n    addscore(s: number) {\r\n        if (this.gameoverState) return;\r\n        if (this.rewardtype === 0) {\r\n            this.score += Math.floor(s / 2);\r\n        } else if (this.rewardtype === 3) {\r\n            this.score += 2 * s;\r\n        } else {\r\n            this.score += s;\r\n        }\r\n\r\n        this.ScoreUI.scoreui(this.score);\r\n        // if (find('GameManager/audio').getComponent(Audio).audioSource.playing) return;\r\n        // find('GameManager/audio').getComponent(Audio).playCollider();\r\n    }\r\n    //暂停游戏执行的代码    通过帧暂停的方式，但是赛车移动不用通过帧的方式所以要有一个标志符来判断此时赛车是否可移动\r\n    onPauseButtonClick() {\r\n        // if (!this.pauseButtonState) return;\r\n\r\n        // director.pause();\r\n\r\n        //暂停的时候无法旋转\r\n        newcurbeParent.getInstance().changeBState();\r\n        //\r\n        // AudioMgr.inst.pause();\r\n        // this.playercontroal.moveState_no();  //当GameManager中暂停游戏的脚本执行时，再执行playercontroal脚本中的使赛车移动状态设为否\r\n        find(\"GameManager/audio\").getComponent(Audio).playClick();\r\n        // this.pauseui.showPauseUI();\r\n        this.pauseui.starshowPauseUI(newcurbeParent.getInstance().levelStar);\r\n    }\r\n\r\n    onPauseButtonClick_Speed() {\r\n        // if (!this.pauseButtonState) return;\r\n        director.pause();\r\n        //暂停的时候无法旋转\r\n        //\r\n        // AudioMgr.inst.pause();\r\n        // this.playercontroal.moveState_no();  //当GameManager中暂停游戏的脚本执行时，再执行playercontroal脚本中的使赛车移动状态设为否\r\n        find(\"GameManager/audio\").getComponent(Audio).playClick();\r\n        this.pauseui.showPauseUI();\r\n    }\r\n    //返回主页\r\n    onReturnmain() {\r\n        find(\"GameManager/audio\").getComponent(Audio).playClick();\r\n        director.resume();\r\n        // this.pauseButtonState = true; //可以点击暂停按钮\r\n        // AudioMgr.inst.stop();\r\n        setTimeout(() => {\r\n            director.loadScene(\"Start_scene\");\r\n        }, 500);\r\n\r\n    }\r\n    onReturnMap() {\r\n        find(\"GameManager/audio\").getComponent(Audio).playClick();\r\n        director.resume();\r\n        director.loadScene('Map');\r\n    }\r\n    //广告页面\r\n    // onAdButtonClick(){\r\n    //     director.pause();\r\n    //     cufbParent.getInstance().changeBState();\r\n    //     this.AdUI.showAdUI();\r\n    // }\r\n    //继续游戏\r\n    onStartButtonCLick() {\r\n        find(\"GameManager/audio\").getComponent(Audio).playClick();\r\n        director.resume();\r\n        // this.playercontroal.moveState_yes();\r\n        this.pauseui.hidePauseUI();\r\n        // AudioMgr.inst.resume();\r\n\r\n    }\r\n    //重新开始\r\n    onRestartButtonClick() {\r\n        find(\"GameManager/audio\").getComponent(Audio).playClick();\r\n        // find(\"Canvas/gameoverUI/Ad\").getComponent(TimeOverAd).aliveState = false;\r\n        // find(\"Canvas/gameoverUI/Ad\").getComponent(TimeOverAd).atimeState = false;\r\n        // this.pauseButtonState = true;\r\n        this.onStartButtonCLick();    //恢复游戏运行的状态；\r\n        // AudioMgr.inst.stop();\r\n        setTimeout(() => {\r\n            director.loadScene(director.getScene().name);  //重新加载该场景\r\n        }, 500);\r\n    }\r\n\r\n\r\n    highest_score(): number {\r\n        let hScore = localStorage.getItem('HighestScore');\r\n        let hScoreInt = 0;\r\n        if (hScore !== null) {\r\n            hScoreInt = parseInt(hScore, 10);//10进制\r\n        }\r\n        if (this.score > hScoreInt) {\r\n            localStorage.setItem(\"HighestScore\", this.score.toString());\r\n        }\r\n        hScore = localStorage.getItem(\"HighestScore\");\r\n        hScoreInt = parseInt(hScore, 10);\r\n        if (hScore == null) hScoreInt = 0;\r\n        return hScoreInt;\r\n    }\r\n    //下一关按钮\r\n    f() {\r\n        find(\"GameManager/audio\").getComponent(Audio).playClick();\r\n        let level = newcurbeParent.getInstance().level;\r\n        let settings = JSON.parse(localStorage.getItem('settings'));\r\n        let s1 = settings[level]['S1'];\r\n        let s2 = settings[level]['S2'];\r\n        let s3 = settings[level]['S3'];\r\n        let l1 = settings[level]['L1'];\r\n        let l2 = settings[level]['L2'];\r\n        let l3 = settings[level]['L3'];\r\n        director.loadScene('Map');\r\n        //将下一关的数据放入currentLevelInfo中\r\n        localStorage.setItem('currentLevelInfo', JSON.stringify(settings[level]));\r\n        //\r\n        All.setStateDialog(true);\r\n        setTimeout(() => {\r\n            MapPanel.getInstance().showleveldialog(level + 1, s1, s2, s3, l1, l2, l3);\r\n        }, 500);\r\n\r\n    }\r\n\r\n    //游戏结束（新）\r\n    // showDialog() {\r\n    //     this.victroyui.active = true;\r\n    //     // mask淡入\r\n    //     let mask: Node = this.victroyui.getChildByName(\"bg\");\r\n    //     let masksp: Sprite = mask.getComponent(Sprite);\r\n    //     masksp.color = new Color(0, 0, 0, 0);\r\n    //     if (masksp) {\r\n    //         tween(masksp).to(10, { color: new Color(0, 0, 0, 100) }).start();\r\n    //     }\r\n    //     // content缩放显示\r\n    //     let content: Node = this.victroyui.getChildByName(\"content\");\r\n    //     content.scale = new Vec3(0, 0);\r\n    //     tween(content)\r\n    //         .to(0.4, { scale: new Vec3(1, 1) }, { easing: \"backOut\" })\r\n    //         .call(() => {\r\n    //         })\r\n    //         .start();\r\n    // }\r\n    playStarAnimation(starNode, callback) {\r\n        // 假设每个星星节点上都有一个名为 \"animation\" 的动画组件\r\n        let animation = starNode.getComponent(Animation);\r\n        if (animation) {\r\n            // 播放动画，动画名称需要根据你的动画组件中的实际名称来替换\r\n            animation.play('star_finaltx');\r\n\r\n            // 监听动画结束事件\r\n            animation.on('finished', () => {\r\n                // 动画播放完毕后，执行回调函数\r\n                if (callback) {\r\n                    callback();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    gameoverStar(star: number) {\r\n        let strpnode = this.victroyui.getChildByName(\"content\").children[4];\r\n        switch (star) {\r\n            case 1:\r\n                console.log('触发1颗星的时间');\r\n                strpnode.children[1].active = true;\r\n                this.playStarAnimation(strpnode.children[1], () => { });\r\n                break;\r\n            case 2:\r\n                console.log('触发二颗星的时间');\r\n                strpnode.children[1].active = true;\r\n                this.playStarAnimation(strpnode.children[1], () => {\r\n                    strpnode.children[3].active = true;\r\n                    this.playStarAnimation(strpnode.children[3], () => { })\r\n                });\r\n                break;\r\n            case 3:\r\n                console.log('触发三颗星的时间');\r\n                strpnode.children[1].active = true;\r\n                this.playStarAnimation(strpnode.children[1],\r\n                    () => {\r\n                        strpnode.children[3].active = true;\r\n                        this.playStarAnimation(strpnode.children[3],\r\n                            () => {\r\n                                strpnode.children[5].active = true;\r\n                                this.playStarAnimation(strpnode.children[5], () => { })\r\n                            })\r\n                    });\r\n                break;\r\n        }\r\n    }\r\n    showDialog(star: number, level: number, totallevel: number) {\r\n        this.gameoverState = true;\r\n        setTimeout(() => {\r\n            this.victroyui.active = true;\r\n            //if一颗星：2颗星：3颗星：\r\n\r\n            // mask淡入\r\n            // let mask: Node = this.victroyui.getChildByName(\"bg\");\r\n            // let masksp: Sprite = mask.getComponent(Sprite);\r\n            // if (masksp) {\r\n            //     tween(masksp).to(10, { color: new Color(masksp.color.r, masksp.color.g, masksp.color.b, 0) }, { easing: 'linear' }).start();\r\n            // }\r\n            // content缩放显示\r\n            let content: Node = this.victroyui.getChildByName(\"content\");\r\n            if (star == 0) {\r\n                find(\"GameManager/audio\").getComponent(Audio).playGameover();\r\n                let contentsrpite = content.children[0].getComponent(Sprite);\r\n                contentsrpite.spriteFrame = this.frame_sp;\r\n                this.victroyui.children[2].active = false;//胜利特效去除\r\n                content.children[3].active = false;\r\n                content.children[2].setPosition(0, -250, 0);\r\n\r\n            } else {\r\n                find(\"GameManager/audio\").getComponent(Audio).playlevelvic();\r\n            }\r\n            if (level == totallevel) {\r\n                content.children[3].active = false;\r\n                content.children[2].setPosition(0, -250, 0);\r\n            }\r\n\r\n            content.scale = new Vec3(0, 0, 0);\r\n            tween(content)\r\n                .to(0.4, { scale: new Vec3(1, 1, 1) }, { easing: \"backOut\" })\r\n                .call(() => { this.gameoverStar(star); })\r\n                .start();\r\n        }, 500);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    //游戏结束\r\n    gameover() {\r\n        this.gameoverState = true;\r\n        this.high_socre = this.highest_score();\r\n        // let hScore =localStorage.getItem('HighestScore');\r\n        // if(hScore!==null){\r\n        //     this.hScoreInt=parseInt(hScore,10);//10进制\r\n        // }\r\n        // // let hScoreInt=0;\r\n        // if(this.score>this.hScoreInt){\r\n        //     localStorage.setItem(\"HighestScore\",this.score.toString());\r\n        // }\r\n        // hScore=localStorage.getItem(\"HighestScore\");\r\n        // this.hScoreInt=parseInt(hScore,10);\r\n        find(\"GameManager/audio\").getComponent(Audio).playGameover();\r\n        this.GameoverUI.gameoverui(this.high_socre, this.score, this.live);\r\n        // AudioMgr.inst.stop();\r\n    }\r\n\r\n    pausetotal: number = 0;//奖励道具暂停时间计时器\r\n    pausetime: number = 0;\r\n    update(deltaTime: number) {\r\n        if (!this.isAnimationFinished) return;//进入游戏倒计时结束前无法开始计时\r\n        if (this.gameoverState) return;\r\n        this.totaltime += deltaTime\r\n        //如果消除完，加时间\r\n        if (this.atimeState) {\r\n            this.TimeUI.TimeUI(this.time);\r\n            this.animation_add.play('animation');\r\n            this.atimeState = false;\r\n        }\r\n        if (this.rewardtype === 4) {\r\n            this.pausetotal += deltaTime;\r\n            if (this.pausetotal >= this.pausetime) {\r\n                this.rewardtype = null;\r\n                this.pausetotal = 0;\r\n            }\r\n            return;\r\n        }\r\n\r\n        //60秒倒计时\r\n        if (this.totaltime >= 1 && this.time > 0) {\r\n            this.dTime()\r\n            this.totaltime = 0;\r\n        }\r\n        //倒计时结束，游戏结束\r\n        if (!this.timeoutState) return;\r\n        if (this.time == 0) this.gameover();\r\n    }\r\n\r\n}\r\n\r\n\r\n","import { _decorator, Component, Label, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GameoverUI')\r\nexport class GameoverUI extends Component {\r\n    @property(Label)\r\n    highLabel: Label = null;\r\n    @property(Label)\r\n    finallLabel: Label = null;\r\n    @property(Label)\r\n    tip:Label=null;\r\n    start() {\r\n\r\n    }\r\n\r\n\r\n    gameoverui(highcount: number, finallcount: number,live:number){\r\n        this.node.active=true;\r\n        this.highLabel.string = \"历史最高分：\"+highcount.toString();\r\n        this.finallLabel.string = finallcount.toString();\r\n        if(live===0){\r\n            this.tip.string=\"看广告增加生命值\";\r\n        }else{\r\n            this.tip.string=\"看广告增加时间\";\r\n        }\r\n    }\r\n\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","export class GlobalPopupState {\r\n    private static instance: GlobalPopupState;\r\n\r\n    public isPopupActive: boolean = true; // 初始状态：弹窗需要显现\r\n\r\n    private constructor() {}\r\n\r\n    public static getInstance(): GlobalPopupState {\r\n        if (!GlobalPopupState.instance) {\r\n            GlobalPopupState.instance = new GlobalPopupState();\r\n        }\r\n        return GlobalPopupState.instance;\r\n    }\r\n}\r\n","import { _decorator, Component, Node, SpriteFrame, Label, Sprite, director, Input, find } from 'cc';\r\nimport { MapPanel } from './MapPanel';\r\nimport { All } from '../all';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('level')\r\nexport class level extends Component {\r\n    @property(SpriteFrame)\r\n    lockPic: SpriteFrame = null;\r\n    \r\n    @property(SpriteFrame)\r\n    greyStartPic: SpriteFrame = null;\r\n\r\n    @property(SpriteFrame)\r\n    yellowStartPic: SpriteFrame = null;\r\n    s1: any;\r\n    s2: any;\r\n    s3: any;\r\n    l1: any;\r\n    l2: any;\r\n    l3: any;\r\n\r\n    @property(SpriteFrame)\r\n    completedBackgroundPic: SpriteFrame = null; // New background image for completed levels.\r\n\r\n    public settings: any;\r\n    level: number = null;\r\n\r\n    start() {\r\n        this.node.on(Input.EventType.TOUCH_END, this.onTouchStart, this);\r\n    }\r\n\r\n    initgreyStart() {\r\n        let threeChild = this.node.children[2];\r\n        threeChild.children[0].getComponent(Sprite).spriteFrame = this.greyStartPic;\r\n        threeChild.children[1].getComponent(Sprite).spriteFrame = this.greyStartPic;\r\n        threeChild.children[2].getComponent(Sprite).spriteFrame = this.greyStartPic;\r\n    }\r\n\r\n    onePass() {\r\n        let threeChild = this.node.children[2];\r\n        threeChild.children[0].getComponent(Sprite).spriteFrame = this.yellowStartPic;\r\n        threeChild.children[1].getComponent(Sprite).spriteFrame = this.greyStartPic;\r\n        threeChild.children[2].getComponent(Sprite).spriteFrame = this.greyStartPic;\r\n    }\r\n\r\n    twoPass() {\r\n        let threeChild = this.node.children[2];\r\n        threeChild.children[0].getComponent(Sprite).spriteFrame = this.yellowStartPic;\r\n        threeChild.children[1].getComponent(Sprite).spriteFrame = this.yellowStartPic;\r\n        threeChild.children[2].getComponent(Sprite).spriteFrame = this.greyStartPic;\r\n    }\r\n\r\n    thridPass() {\r\n        let threeChild = this.node.children[2];\r\n        threeChild.children[0].getComponent(Sprite).spriteFrame = this.yellowStartPic;\r\n        threeChild.children[1].getComponent(Sprite).spriteFrame = this.yellowStartPic;\r\n        threeChild.children[2].getComponent(Sprite).spriteFrame = this.yellowStartPic;\r\n    }\r\n\r\n    saveMessage(level, s1, s2, s3, l1, l2, l3) {\r\n        this.level = level;\r\n        this.s1 = s1;\r\n        this.s2 = s2;\r\n        this.s3 = s3;\r\n        this.l1 = l1;\r\n        this.l2 = l2;\r\n        this.l3 = l3;\r\n    }\r\n    changePic(levelState: string, num: number, levelStar: number) {\r\n        if (levelState === 'UNLOCKED') {\r\n            // Unlocked: Show number and grey stars\r\n            let childrenArray = this.node.children;\r\n            childrenArray.forEach((childNode) => {\r\n                childNode.active = true;\r\n            });\r\n            this.node.children[0].active = true;\r\n            this.node.children[0].getComponent(Label).string = num.toString();\r\n            this.initgreyStart();\r\n        } else if (levelState === 'PASSED') {\r\n            // Passed: Show number and corresponding stars\r\n            if (levelStar === 1) {\r\n                this.onePass();\r\n            } else if (levelStar === 2) {\r\n                this.twoPass();\r\n            } else if (levelStar === 3) {\r\n                this.thridPass();\r\n            }\r\n\r\n            this.node.children[0].active = true;\r\n            this.node.children[0].getComponent(Label).string = num.toString();\r\n\r\n            // Update the background image to the completed image\r\n            this.node.getComponent(Sprite).spriteFrame = this.completedBackgroundPic;\r\n        } else if (levelState === 'LOCKED') {\r\n            // Locked: Show lock icon and hide stars\r\n            // this.node.children[1].getComponent(Sprite).spriteFrame = this.lockPic;\r\n            this.node.children[2].active = false;\r\n        }\r\n    }\r\n\r\n    onTouchStart() {\r\n        //如果关卡还没有解锁则返回\r\n        if (this.settings['levelState'] == 'LOCKED') return;\r\n        //如果弹窗动画没有结束则返回\r\n        // if(MapPanel.getInstance().isDialogActive==true) return;\r\n        // if (All.isDialogActive) return;\r\n        // 将目标关卡信息存入本地，在Game.js中取出\r\n        localStorage.setItem('currentLevelInfo', JSON.stringify(this.settings));\r\n        find('Canvas/Camera/Bg/Mask/bg/Map').getComponent(MapPanel).showleveldialog(this.level, this.s1, this.s2, this.s3, this.l1, this.l2, this.l3);\r\n        // director.loadScene('loading');\r\n    }\r\n\r\n    update(deltaTime: number) {}\r\n}\r\n","import { _decorator, Component, Label, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('liveUI')\r\nexport class liveUI extends Component {\r\n    @property(Label)\r\n    num:Label=null;\r\n\r\n    liveUIChange(count:number){\r\n        this.num.string=count.toString();\r\n    }\r\n\r\n\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Label, find, Sprite, Prefab, instantiate, Vec3, Animation, director } from 'cc';\r\nimport prefab from '../data/prefab';\r\nimport { newcurbeParent } from './newcurbeParent';\r\nimport { GameManager } from './GameManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('MainGamePanel')\r\nexport class MainGamePanel extends Component {\r\n    @property(Label)\r\n    stepCount: Label = null;\r\n    @property(Node)\r\n    barnode: Node = null;\r\n    @property(Prefab)\r\n    starPrefab: Prefab = null;\r\n    starnode1:Node=null;\r\n    starnode2:Node=null;\r\n    progress: number;\r\n    progress_term: number;\r\n    @property(Node)\r\n    termStarnode: Node = null;\r\n    @property(Label)\r\n    l3: Label = null;\r\n    @property()\r\n    progresswidth: number = 550;\r\n\r\n    start() {\r\n        this.upstep();\r\n        find('Canvas/Mid/curbParent').on('upstep', this.upstep, this);\r\n        find('Canvas/Mid/curbParent').on('defeat', this.defeat, this);\r\n        find('Canvas/Mid/curbParent').on('2starover', this.star_2over, this);\r\n        find('Canvas/Mid/curbParent').on('uptermstar', this.uptermstar, this);\r\n        find('Canvas/Mid/curbParent').on('initl3', this.initl3, this);\r\n        this.f();\r\n    }\r\n    f() {\r\n        this.starnode2 = instantiate(this.starPrefab);\r\n        this.barnode.addChild(this.starnode2);\r\n        let pos2_x=Math.round((    1-  (newcurbeParent.getInstance().Minstep) /((newcurbeParent.getInstance().Maxstep+1))    )* 10) / 10;\r\n        console.log(pos2_x);\r\n        let pos2 = new Vec3(pos2_x*this.progresswidth, 0, 0);\r\n        this.starnode2.setPosition(pos2);\r\n        this.starnode1 = instantiate(this.starPrefab);\r\n        this.barnode.addChild(this.starnode1);\r\n        let pos1 = new Vec3(1 / (newcurbeParent.getInstance().Maxstep + 1) * this.progresswidth, 0, 0)\r\n        this.starnode1.setPosition(pos1);\r\n    }\r\n\r\n    upstep() {\r\n        this.stepCount.string = newcurbeParent.getInstance().step.toString()+\"步\";\r\n        this.progress = (newcurbeParent.getInstance().step + 1) / (newcurbeParent.getInstance().Maxstep + 1)\r\n        this.barnode.getComponent(Sprite).fillRange = this.progress;\r\n    }\r\n    uptermstar() {\r\n        this.progress_term = (newcurbeParent.getInstance().termStarprogress / newcurbeParent.getInstance().totalProgress);\r\n        this.termStarnode.getComponent(Sprite).fillRange = this.progress_term;\r\n    }\r\n    initl3() {\r\n        this.l3.string = newcurbeParent.getInstance().l3;\r\n    }\r\n    defeat() {\r\n        // GameManager.getInstance().gameoverState=true;//提前给出游戏结束状态\r\n        let animation=this.starnode1.getComponent(Animation);\r\n        if(animation){\r\n            animation.play('progress_star');\r\n            console.log('有animation');\r\n        }\r\n        else{\r\n            console.log('没有animation');\r\n        }\r\n        \r\n        this.barnode.getComponent(Sprite).fillRange = 0;\r\n        //播放动画\r\n        animation.on(Animation.EventType.FINISHED, () => {\r\n            // 动画完成，发射事件\r\n            console.log('星星灭了动画完成');\r\n            this.node.emit('defeat-finished');\r\n        });\r\n    }\r\n    star2_over_state:boolean=false;\r\n    star_2over(){\r\n        if(this.star2_over_state) return;\r\n        this.star2_over_state=true;\r\n        let animation=this.starnode2.getComponent(Animation);\r\n        if(animation){\r\n            animation.play('progress_star');\r\n            console.log('有animation');\r\n        }\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Prefab, instantiate, tween, Vec3, Label, director, find } from 'cc';\r\nimport { settings } from '../../data/settings';\r\nimport { level } from './level';\r\nimport { All } from '../all';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('MapPanel')\r\nexport class MapPanel extends Component {\r\n    //单例模式定义一个私有的静态变量\r\n    private static instance: MapPanel;\r\n    //外界访问instance\r\n    public static getInstance(): MapPanel {\r\n        return this.instance;\r\n    }\r\n    @property(Prefab)\r\n    levelPrefab: Prefab = null;\r\n    @property(Prefab)\r\n    leveldPrefab: Prefab = null;\r\n    \r\n    leveldnode: Node = null;\r\n    \r\n\r\n    start() {\r\n        MapPanel.instance = this;\r\n        this.initLevels();\r\n    }\r\n\r\n    initLevels() {\r\n        console.log('initLevels触发了');\r\n\r\n        const childSlots = this.node.children; // 获取 map 节点下的所有子节点\r\n        if (!localStorage.getItem('settings')) {\r\n            console.log('触发了第一次玩的情况');\r\n            for (let i = 0; i < settings.length; i++) {\r\n                if (i >= childSlots.length) {\r\n                    console.warn(`关卡数量超过了子节点数量，第 ${i + 1} 关未能分配位置`);\r\n                    break;\r\n                }\r\n\r\n                let levelnode = instantiate(this.levelPrefab); // 创建关卡节点\r\n                let levelscr = levelnode.getComponent(level);\r\n                if (!levelscr) console.log('没有levelscr');\r\n                \r\n                levelscr.settings = settings[i]; // 初始化关卡设置\r\n                levelscr.saveMessage(settings[i]['level'], settings[i]['S1'], settings[i]['S2'], settings[i]['S3'], settings[i]['L1'], settings[i]['L2'], settings[i]['L3']);\r\n                levelscr.changePic(settings[i]['levelState'],(i + 1),settings[i]['levelStar']);\r\n\r\n                // 将关卡节点添加到对应的子节点\r\n                childSlots[i].addChild(levelnode);\r\n                levelnode.setPosition(0, 0, 0); // 确保关卡居中于父节点\r\n            }\r\n\r\n            // 将所有关卡信息存入本地(针对首次游戏)\r\n            localStorage.setItem('settings', JSON.stringify(settings));\r\n        } else {\r\n            console.log('触发了不是第一次玩的情况');\r\n            // 如果玩家已经玩过，则从本地存储中获取关卡配置信息\r\n            let newSettings = JSON.parse(localStorage.getItem('settings'));\r\n            for (let i = 0; i < newSettings.length; i++) {\r\n                if (i >= childSlots.length) {\r\n                    console.warn(`关卡数量超过了子节点数量，第 ${i + 1} 关未能分配位置`);\r\n                    break;\r\n                }\r\n\r\n                let levelnode = instantiate(this.levelPrefab); // 创建关卡节点\r\n                let levelscr = levelnode.getComponent(level);\r\n                if (!levelscr) console.log('没有levelscr');\r\n\r\n                levelscr.settings = newSettings[i]; // 初始化关卡设置\r\n                levelscr.saveMessage(newSettings[i]['level'], newSettings[i]['S1'], newSettings[i]['S2'], newSettings[i]['S3'], newSettings[i]['L1'], newSettings[i]['L2'], newSettings[i]['L3']);\r\n                levelscr.changePic(\r\n                    newSettings[i]['levelState'],\r\n                    (i + 1),\r\n                    newSettings[i]['levelStar']\r\n                );\r\n\r\n                // 将关卡节点添加到对应的子节点\r\n                childSlots[i].addChild(levelnode);\r\n                levelnode.setPosition(0, 0, 0); // 确保关卡居中于父节点\r\n            }\r\n        }\r\n    }\r\n    // initLevels() {\r\n    //     console.log('initLevels触发了');\r\n\r\n    //     const childSlots = this.node.children; // 获取 map 节点下的所有子节点\r\n    //         console.log('触发了第一次玩的情况');\r\n    //         for (let i = 0; i < settings.length; i++) {\r\n    //             if (i >= childSlots.length) {\r\n    //                 console.warn(`关卡数量超过了子节点数量，第 ${i + 1} 关未能分配位置`);\r\n    //                 break;\r\n    //             }\r\n\r\n    //             let levelnode = instantiate(this.levelPrefab); // 创建关卡节点\r\n    //             let levelscr = levelnode.getComponent(level);\r\n    //             if (!levelscr) console.log('没有levelscr');\r\n                \r\n    //             levelscr.settings = settings[i]; // 初始化关卡设置\r\n    //             levelscr.saveMessage(settings[i]['level'], settings[i]['S1'], settings[i]['S2'], settings[i]['S3'], settings[i]['L1'], settings[i]['L2'], settings[i]['L3']);\r\n    //             levelscr.changePic(settings[i]['levelState'],(i + 1),settings[i]['levelStar']);\r\n\r\n    //             // 将关卡节点添加到对应的子节点\r\n    //             childSlots[i].addChild(levelnode);\r\n    //             levelnode.setPosition(0, 0, 0); // 确保关卡居中于父节点\r\n    //         }\r\n\r\n    //         // 将所有关卡信息存入本地(针对首次游戏)\r\n    //         localStorage.setItem('settings', JSON.stringify(settings));\r\n        \r\n    // }\r\n    \r\n    showleveldialog(stage: number, s1: boolean, s2: boolean, s3: boolean, l1, l2, l3) {\r\n        console.log('触发了');\r\n        console.log(this.leveldPrefab);\r\n        this.leveldnode = instantiate(this.leveldPrefab);\r\n        find('Canvas/Camera/Bg/Mask').addChild(this.leveldnode);\r\n\r\n        const contentnode = this.leveldnode.getChildByName('content');\r\n        const titlenode = contentnode.getChildByName('title');\r\n        const starnode = contentnode.getChildByName('star');\r\n        const starChildren = starnode.children;//star节点下的所有子节点\r\n        const startermChildren = starChildren[6].children;//term节点\r\n        const strNodes = [starChildren[7], starChildren[8], starChildren[9]];\r\n\r\n        // 设置星星显示状态\r\n        [s1, s2, s3].forEach((isActive, index) => {\r\n            if (isActive) {\r\n                strNodes[index].active = true;\r\n            }\r\n        });\r\n        startermChildren[0].getComponent(Label).string = l1;\r\n        startermChildren[1].getComponent(Label).string = l2;\r\n        startermChildren[2].getComponent(Label).string = l3;\r\n\r\n        titlenode.getComponent(Label).string = `关卡:${stage}`;\r\n\r\n        // 设置弹窗的初始缩放并动画放大\r\n        contentnode.scale = new Vec3(0, 0, 0);\r\n        tween(contentnode)\r\n            .to(0.4, { scale: new Vec3(1, 1, 1) }, { easing: \"backOut\" })\r\n            .call(() => {\r\n            })\r\n            .start();\r\n    }\r\n\r\n    hideleveldialog() {\r\n        let contentnode: Node = this.leveldnode.getChildByName('content');\r\n        tween(contentnode)\r\n            .to(0.4, { scale: new Vec3(0, 0, 0) }, { easing: 'backIn' }) // 使用 backIn 方案来缩放回原始大小\r\n            .call(() => {\r\n                // 动画完成后从场景中移除弹窗\r\n                this.leveldnode.destroy();\r\n                All.setStateDialog(false);\r\n            })\r\n            .start();\r\n    }\r\n    returnMain(){\r\n        setTimeout(() => {\r\n            director.loadScene('Start_scene');\r\n        }, 500);\r\n    }\r\n\r\n    \r\n}\r\n","import { _decorator, Component, AudioSource, AudioClip, resources, Node, director } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('newaudio')\r\nexport class newaudio extends Component {\r\n    private static _instance: newaudio | null = null;\r\n\r\n    private audioSource: AudioSource | null =null;\r\n    private soundCache: Map<string, AudioClip> = new Map();\r\n\r\n    private isSoundEnabled: boolean = true; // 是否启用音效\r\n    private isMusicEnabled: boolean = true; // 是否启用背景音乐\r\n\r\n    public static getInstance(): newaudio {\r\n        if (!newaudio._instance) {\r\n            const globalNode = new Node('GlobalAudioManager');\r\n            newaudio._instance = globalNode.addComponent(newaudio);\r\n\r\n            globalNode.parent = director.getScene()!;\r\n        }\r\n        return newaudio._instance;\r\n    }\r\n\r\n    onLoad() {\r\n        if (!this.audioSource) {\r\n            this.audioSource = this.node.addComponent(AudioSource);\r\n        }\r\n    }\r\n    protected start(): void {\r\n        if (!this.audioSource) {\r\n            this.audioSource = this.node.addComponent(AudioSource);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 播放音效\r\n     * @param soundPath 音效资源路径\r\n     */\r\n    public playSound(soundPath: string) {\r\n        console.log('触发playSound1');\r\n        console.log(this.audioSource);\r\n        console.log(this.isMusicEnabled);\r\n        if (!this.isSoundEnabled) return;\r\n        console.log('触发playSoundw');\r\n        // 如果缓存中已有音效，直接播放\r\n        if (this.soundCache.has(soundPath)) {\r\n            console.log('触发playSound3');\r\n            this.audioSource.playOneShot(this.soundCache.get(soundPath)!);\r\n            return;\r\n        }\r\n\r\n        // 动态加载音效资源\r\n        resources.load(soundPath, AudioClip, (err, clip) => {\r\n            if (err) {\r\n                console.error(`音效加载失败: ${soundPath}`, err);\r\n                return;\r\n            }\r\n            this.soundCache.set(soundPath, clip);\r\n            this.audioSource!.playOneShot(clip);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 播放背景音乐\r\n     * @param musicPath 背景音乐资源路径\r\n     * @param loop 是否循环播放\r\n     */\r\n    public playBackgroundMusic(musicPath: string, loop: boolean = true) {\r\n        if (!this.isMusicEnabled || !this.audioSource) return;\r\n\r\n        // 如果缓存中已有背景音乐，直接播放\r\n        if (this.soundCache.has(musicPath)) {\r\n            const clip = this.soundCache.get(musicPath)!;\r\n            this.audioSource.clip = clip;\r\n            this.audioSource.loop = loop;\r\n            this.audioSource.play();\r\n            return;\r\n        }\r\n\r\n        // 动态加载背景音乐资源\r\n        resources.load(musicPath, AudioClip, (err, clip) => {\r\n            if (err) {\r\n                console.error(`背景音乐加载失败: ${musicPath}`, err);\r\n                return;\r\n            }\r\n            this.soundCache.set(musicPath, clip);\r\n            this.audioSource!.clip = clip;\r\n            this.audioSource!.loop = loop;\r\n            this.audioSource!.play();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 停止背景音乐\r\n     */\r\n    public stopBackgroundMusic() {\r\n        if (this.audioSource) {\r\n            this.audioSource.stop();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置是否启用音效\r\n     * @param enabled\r\n     */\r\n    public setSoundEnabled(enabled: boolean) {\r\n        this.isSoundEnabled = enabled;\r\n    }\r\n\r\n    /**\r\n     * 设置是否启用背景音乐\r\n     * @param enabled\r\n     */\r\n    public setMusicEnabled(enabled: boolean) {\r\n        this.isMusicEnabled = enabled;\r\n        if (!enabled && this.audioSource) {\r\n            this.audioSource.stop(); // 停止背景音乐\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取当前音效状态\r\n     */\r\n    public getSoundEnabled(): boolean {\r\n        return this.isSoundEnabled;\r\n    }\r\n\r\n    /**\r\n     * 获取当前背景音乐状态\r\n     */\r\n    public getMusicEnabled(): boolean {\r\n        return this.isMusicEnabled;\r\n    }\r\n}\r\n","import { _decorator, color, Component, instantiate, Node, Prefab, Vec3, EventTouch, input, Input, Vec2, tween, Tween, find, SystemEvent, PrefabLink } from 'cc';\r\nimport { Audio } from './Audio';\r\nimport { GameManager } from './GameManager';\r\nimport { newGameManager } from './newGameManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\nenum Color {\r\n    Red,\r\n    Yellow,\r\n    purple,\r\n    while\r\n}\r\n\r\n@ccclass('newcurbeParent')\r\nexport class newcurbeParent extends Component {\r\n\r\n    //单例模式定义一个私有的静态变量\r\n    private static instance: newcurbeParent;\r\n    //外界访问instance\r\n    public static getInstance(): newcurbeParent {\r\n        return this.instance;\r\n    }\r\n    @property\r\n    public blockSize: number = 50;\r\n\r\n    @property(Prefab)\r\n    no1: Prefab = null;\r\n    @property(Prefab)\r\n    no2: Prefab = null;\r\n    @property(Prefab)\r\n    no3: Prefab = null;\r\n    @property(Prefab)\r\n    no4: Prefab = null;\r\n    @property(Prefab)\r\n    no5: Prefab = null;\r\n    @property(Prefab)\r\n    no6: Prefab = null;\r\n    @property(Prefab)\r\n    no7: Prefab = null;\r\n    @property(Prefab)\r\n    no8: Prefab = null;\r\n    @property(Prefab)\r\n    no9: Prefab = null;\r\n    @property(Prefab)\r\n    no10: Prefab = null;\r\n    @property(Prefab)\r\n    no11: Prefab = null;\r\n    @property(Prefab)\r\n    no12: Prefab = null;\r\n\r\n    c1: Prefab = null;\r\n    c2: Prefab = null;\r\n    c3: Prefab = null;\r\n    c4: Prefab = null;\r\n\r\n\r\n\r\n\r\n    @property(Node)\r\n    panlNode:Node=null;\r\n    @property(Node)\r\n    termStarnode: Node = null;\r\n    currentLevelInfo: any;\r\n    step: number = 0;\r\n    level: number;\r\n    levelsetting_round: any;\r\n    round: number;\r\n    size: number;\r\n    Maxstep: number;\r\n    Minstep: number;\r\n    matrix: number[][] = [];\r\n    tileMatrix: Node[][] = []\r\n    xcmatrixArray: number[] = [];\r\n    Prefab_type:number[]=[]\r\n    levelStar: number = 0;\r\n    l3: string;\r\n    //分子\r\n    termStarprogress: number = 0;\r\n    //分母\r\n    totalProgress: number;\r\n    //第三颗星星是否加入最后结算的星中\r\n    starlight_third: boolean = false;\r\n    private touchStartPos: Vec2\r\n    //移动动画是否正在播放\r\n    public isMoving: boolean = false;\r\n    //本次移动消除有那些动物\r\n    //旋转按钮的状态\r\n    state_button: boolean = true;\r\n    //\r\n    //旋转状态\r\n    rotateState: boolean = false;\r\n    protected onLoad(): void {\r\n        newcurbeParent.instance = this;\r\n        this.currentLevelInfo = JSON.parse(localStorage.getItem('currentLevelInfo'));\r\n        this.Prefab_type=this.currentLevelInfo['type'];\r\n        this.level = this.currentLevelInfo['level']\r\n        this.levelsetting_round = this.currentLevelInfo['levelsetting'][0];//后期改\r\n        this.round = this.levelsetting_round['round'];\r\n        this.matrix = this.levelsetting_round['matrix'];\r\n        this.size = this.currentLevelInfo['size'];\r\n        this.Maxstep = this.currentLevelInfo['MaxCount'];\r\n        this.Minstep = this.currentLevelInfo['MinCount'];\r\n        this.step = this.currentLevelInfo['MaxCount'];\r\n        this.termStarprogress = 0;\r\n        this.l3 = this.currentLevelInfo['L3'];\r\n        //每一轮的条件个数*有几轮\r\n        this.totalProgress = this.currentLevelInfo.levelsetting.length * this.currentLevelInfo['term_num'];\r\n        // this.levelStar = this.currentLevelInfo['levelStar'];\r\n        //每次进入到新的关卡时，游戏的状态变为true\r\n        this.creatorPrefab();\r\n    }\r\n    protected start(): void {\r\n        this.node.emit('initl3');\r\n        this.init(this.size);\r\n        input.on(Input.EventType.TOUCH_START, this.onTouchStart, this);\r\n        input.on(Input.EventType.TOUCH_END, this.onTouchEnd, this);\r\n        \r\n    }\r\n\r\n\r\n\r\n    onTouchStart(event: EventTouch) {\r\n        console.log(\"点击\");\r\n        this.touchStartPos = event.getLocation();\r\n    }\r\n\r\n\r\n    // 触摸结束或取消事件处理\r\n    onTouchEnd(event: EventTouch) {\r\n        console.log(\"松开\");\r\n        let touchEndPos = event.getLocation();\r\n        let swipeDirection = this.getSwipeDirection(this.touchStartPos, touchEndPos);\r\n        this.handleSwipe(swipeDirection);\r\n    }\r\n    // 获取滑动方向\r\n    private getSwipeDirection(startPos: Vec2, endPos: Vec2): string {\r\n        let deltaX = endPos.x - startPos.x;\r\n        let deltaY = endPos.y - startPos.y;\r\n\r\n        if (Math.abs(deltaX) > Math.abs(deltaY)) {\r\n            // 水平方向滑动\r\n            if (deltaX > 0) {\r\n                return 'right';\r\n            } else if (deltaX < 0) {\r\n                return 'left';\r\n            }\r\n        } else {\r\n            // 垂直方向滑动\r\n            if (deltaY > 0) {\r\n                return 'up';\r\n            } else if (deltaY < 0) {\r\n                return 'down';\r\n            }\r\n        }\r\n\r\n        return 'none'; // 没有滑动或者滑动距离小于阈值\r\n    }\r\n    upstep() {\r\n        if (this.isMoving) {\r\n            this.step--;\r\n            if(this.step<=0){\r\n                this.step=0\r\n            }\r\n            console.log('这时步数减一');\r\n            if(this.step<this.Maxstep-this.Minstep){\r\n                this.node.emit('2starover');\r\n            }\r\n            this.node.emit('upstep');\r\n        }\r\n    }\r\n    // 处理滑动事件\r\n    private handleSwipe(direction: string) {\r\n        if (this.isMoving || GameManager.getInstance().gameoverState || this.rotateState) return;\r\n        if (this.step==0) return;\r\n        // if (!GameManager.getInstance().isAnimationFinished) return;\r\n        switch (direction) {\r\n            case 'up':\r\n                console.log(\"up\");\r\n                console.log('Swipe Up');\r\n                // 处理向上滑动逻辑\r\n                this.markToRemove('u');\r\n                this.upstep();\r\n\r\n                // this.removeBlocksByColor_u(this.size);\r\n                break;\r\n            case 'down':\r\n                console.log('Swipe Down');\r\n                // 处理向下滑动逻辑\r\n                this.markToRemove('d');\r\n                // this.removeBlocksByColor_d(this.size);\r\n                this.upstep();\r\n                break;\r\n            case 'left':\r\n                console.log('Swipe Left');\r\n                // 处理向左滑动逻辑\r\n                this.markToRemove('l');\r\n                // this.removeBlocksByColor_l(this.size);\r\n                this.upstep();\r\n                break;\r\n            case 'right':\r\n                console.log('Swipe Right');\r\n                // 处理向右滑动逻辑\r\n                this.markToRemove('r');\r\n                // this.removeBlocksByColor_r(this.size);\r\n                this.upstep();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    markToRemove(direction: 'r' | 'l' | 'd' | 'u') {\r\n        const size = this.size;\r\n        const isRow = direction === 'r' || direction === 'l';\r\n        const isCol = direction === 'r' || direction === 'u';\r\n        const isContinuousColor = (color: number | null, targetColor: number) => color === targetColor || color === null;\r\n        const toRemove: boolean[][] = Array.from({ length: size }, () => Array(size).fill(false));\r\n\r\n        let start = direction === 'r' || direction === 'u' ? size - 1 : 0;\r\n        let end = direction === 'r' || direction === 'u' ? 0 : size - 1;\r\n        for (let i = 0; i < size; i++) {\r\n            let consecutiveColorCount = 0;\r\n            for (let j = start; isCol ? j >= end : j <= end; isCol ? j-- : j++) {\r\n                let color = this.matrix[isRow ? i : j][isRow ? j : i];\r\n                let targetColor = this.getTargetColor(direction);\r\n                if (isContinuousColor(color, targetColor)) {\r\n                    consecutiveColorCount++;\r\n                } else {\r\n\r\n                    if (consecutiveColorCount > 0) {\r\n                        for (let a = j + (isCol ? 1 : -1); isCol ? a <= j + consecutiveColorCount : a >= j - consecutiveColorCount; isCol ? a++ : a--) {\r\n                            isRow ? toRemove[i][a] = true : toRemove[a][i] = true;\r\n                        }\r\n                        consecutiveColorCount = 0;\r\n                    }\r\n                    break;\r\n                }\r\n\r\n                if (consecutiveColorCount > 0 && (j === end)) {\r\n                    for (let a = j; isCol ? a < j + consecutiveColorCount : a > j - consecutiveColorCount; isCol ? a++ : a--) {\r\n                        isRow ? toRemove[i][a] = true : toRemove[a][i] = true;\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n        this.moveNodes(toRemove, size, direction);\r\n    }\r\n\r\n    private getTargetColor(direction: 'r' | 'l' | 'd' | 'u'): number {\r\n        switch (direction) {\r\n            case 'r': return 2;\r\n            case 'l': return 1;\r\n            case 'd': return 4;\r\n            case 'u': return 3;\r\n        }\r\n    }\r\n    //满足第三颗星的条件要求的个数\r\n    tiaojian_mz: number = 0;\r\n\r\n    private moveNodes(toRemove: boolean[][], size: number, direction: 'r' | 'l' | 'd' | 'u'): void {\r\n        this.xcmatrixArray = [];\r\n        for (let row = 0; row < size; row++) {\r\n            for (let col = 0; col < size; col++) {\r\n                if (toRemove[row][col] === true) {\r\n                    let node = this.getTileAt(row, col);\r\n                    let pos = node.getWorldPosition()\r\n                    const movePosition = (direction: 'r' | 'l' | 'd' | 'u') => {\r\n                        switch (direction) {\r\n                            case 'r': return new Vec3(pos.x + 500, pos.y, pos.z);\r\n                            case 'l': return new Vec3(pos.x - 500, pos.y, pos.z);\r\n                            case 'd': return new Vec3(pos.x, pos.y - 500, pos.z);\r\n                            case 'u': return new Vec3(pos.x, pos.y + 500, pos.z);\r\n                        }\r\n                    };\r\n                    const position = movePosition(direction);\r\n\r\n                    this.moveNode(node, position, row, col);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    getTileAt(x: number, y: number): Node {\r\n        return this.tileMatrix[x][y];\r\n    }\r\n    xcupdate_tj() {\r\n        switch (this.level) {\r\n            case 2:\r\n            case 3:\r\n            case 4:\r\n        }\r\n    }\r\n    levelStarState: boolean = false;\r\n    roundStarterm: number = 0\r\n    //动画播放完之后 有多少个方块移动，则执行多少次这个函数          每次执行前，获取到当前的round数，每一轮中判断有没有满足，满足则+1，如果=round数 则第三颗星点亮\r\n    xcupdate(row: number, col: number) {\r\n\r\n        let settings = JSON.parse(localStorage.getItem('settings'));\r\n        let tiaojian = settings[this.level - 1]['term_num'];           //每一轮要完成的条件个数\r\n        this.xcmatrixArray.push(this.matrix[row][col])\r\n        console.log('这时移除了元素');\r\n        this.matrix[row][col] = null;\r\n\r\n\r\n        if (this.xcmatrixArray.length >= settings[this.level - 1]['term_onexc']) { \r\n            this.tiaojian_mz++; \r\n            //星星进度条加一\r\n            this.termStarprogress++;\r\n            this.node.emit('uptermstar');\r\n            console.log('第三条件在这一轮达成一个')\r\n        };\r\n\r\n        if (this.tiaojian_mz >= tiaojian) {\r\n            if (this.levelStarState) return;//保证这一轮满足四消2次（规定2次）后，如果这一轮满足第三次四消，也不会再导致roundstarterm+1\r\n            this.roundStarterm += 1;\r\n            console.log('该轮的条件达成');\r\n            // this.levelStar += 1;\r\n            this.levelStarState = true;\r\n            // settings[this.level - 1]['levelStar'] += 1;\r\n            // localStorage.setItem('settings', JSON.stringify(settings));\r\n        }//星级加一\r\n        if (this.roundStarterm == this.currentLevelInfo.levelsetting.length) {\r\n            this.starlight_third = true;\r\n            //播放条件星指引特效\r\n            this.termStarnode.active = true;\r\n            // this.termStarnode.getComponent(Animation).play('star_finaltx');\r\n            console.log('条件星点亮');\r\n        }\r\n    }\r\n    private animatedNodes: Set<Node> = new Set<Node>();\r\n    moveNode(node: Node, targetWorldposition: Vec3, row: number, col: number) {\r\n        if (this.animatedNodes.has(node)) {\r\n            // 如果节点已经在集合中，则不再播放动画\r\n            return;\r\n        }\r\n        this.isMoving = true; // 标记开始移动\r\n        let pos = node.getWorldPosition();\r\n\r\n        tween(node)\r\n\r\n            .to(0.5, { worldPosition: targetWorldposition })\r\n            .call(() => {\r\n                // 动画完成后的回调函数\r\n                this.isMoving = false; // 标记动画结束\r\n                this.xcupdate(row, col);\r\n                // this.countUniqueElementsIn2DArray(this.colorArray);\r\n                console.log('1111');\r\n                this.animatedNodes.add(node); // 将节点添加到已播放动画的集合中\r\n                // if (this.currentRound > 3) this.ff(this.colorArray);\r\n            })\r\n            .start(); // 开始动画\r\n    }\r\n    changeBState() {\r\n        this.state_button = true;  //防止没有播放完动画点击\r\n    }\r\n    private currentTween: Tween<Node> = null;\r\n    onrotateButton() {\r\n        if (GameManager.getInstance().gameoverState || this.isMoving) return; //结束不能点击\r\n        // if (!GameManager.getInstance().isAnimationFinished) return;//倒计时前不能点击\r\n        find(\"GameManager/audio\").getComponent(Audio).playClick();\r\n        if (!this.state_button) return;\r\n        let newAngle = this.node.angle - 90;\r\n        this.rotateState = true;\r\n        // 创建父节点的旋转动画\r\n        let parentTween = tween(this.node)\r\n            .to(1, { angle: newAngle }, { easing: 'quadInOut' })\r\n            .call(() => {\r\n                this.rotateState = false; // 在父节点的动画结束时更新状态\r\n                this.changeBState()\r\n            });\r\n\r\n        // 创建子节点的旋转动画\r\n        let childNodes = this.node.children; // 或者使用特定的子节点数组\r\n\r\n        for (let child of childNodes) {\r\n\r\n            let childAngle = child.angle + 90;\r\n            // console.log(child.eulerAngles.z);\r\n            // 创建并启动子节点的旋转动画\r\n            tween(child)\r\n                .to(1, { angle: childAngle }, { easing: 'quadInOut' })\r\n                .start();\r\n        }\r\n\r\n\r\n        // 同时启动父节点和子节点的动画\r\n        parentTween.start();\r\n        this.state_button = false;   //播放动画时无法点击按钮\r\n\r\n        // 如果需要跟踪当前的 tween，可以存储它们\r\n        this.currentTween = parentTween;\r\n        // 注意：你也可以存储子节点的 tween，如果需要对其进行控制\r\n        this.tileMatrix = this.rotateMatrix90Degrees(this.tileMatrix);\r\n        this.matrix = this.rotateMatrix90Degrees(this.matrix);\r\n        // this.titleMatrix_pos = this.rotateMatrix90Degrees(this.titleMatrix_pos);\r\n    }\r\n    rotateMatrix90Degrees(matrix: any[][]): any[][] {\r\n        const size = matrix.length;\r\n        const rotatedMatrix = Array.from({ length: size }, () => Array(size).fill(null));\r\n\r\n        for (let i = 0; i < size; i++) {\r\n            for (let j = 0; j < size; j++) {\r\n                rotatedMatrix[size - 1 - j][i] = matrix[i][j];\r\n            }\r\n        }\r\n\r\n        return rotatedMatrix;\r\n    }\r\n    //检查数组中是否都是null元素\r\n    areAllElementsNull(twoDimensionalArray: any[][]): boolean {\r\n        return twoDimensionalArray.every(subArray =>\r\n            subArray.every(element => element === null)\r\n        );\r\n    }\r\n\r\n    updaterotate() {\r\n        let childNodes = this.node.children; // 或者使用特定的子节点数组\r\n        for (let child of childNodes) {\r\n            child.eulerAngles = Vec3.ZERO;\r\n            child.destroy();\r\n        }\r\n        this.node.eulerAngles = Vec3.ZERO;\r\n    }\r\n    saveStar_final(settings: any) {\r\n        if (settings[this.level - 1]['levelStar'] <= this.levelStar) settings[this.level - 1]['levelStar'] = this.levelStar;//保留最高星\r\n        console.log('saveStar_final中的' + this.levelStar);\r\n        const totallevel=JSON.parse(localStorage.getItem('settings')).length;\r\n        console.log(totallevel+'totallevel');\r\n        console.log(this.level+'level');\r\n        GameManager.getInstance().showDialog(this.levelStar,this.level,totallevel);\r\n        localStorage.setItem('settings', JSON.stringify(settings));\r\n    }\r\n    defeat(settings) {\r\n        GameManager.getInstance().gameoverState=true;\r\n        this.panlNode.on('defeat-finished', () => {\r\n            // 动画完成后的回调函数\r\n            this.levelStar = 0;\r\n            this.saveStar_final(settings);\r\n        }, this);\r\n        this.node.emit('defeat');\r\n    }\r\n    updateround(settings: any) {//(消除完)结束一轮后执行：更新下一轮或结束这一关\r\n        console.log('更新轮次触发了');\r\n        this.round++;\r\n        this.levelStarState = false;\r\n        this.tiaojian_mz = 0;//进入新的一轮后，该轮第三颗星要满足的条件，以满足的数量变为0\r\n        if (this.round <= this.currentLevelInfo.levelsetting.length) {\r\n            if (this.step == 0) {//消除完；不是最后一轮；步数为0\r\n                if(GameManager.getInstance().gameoverState) return;\r\n                console.log('这里是步数等于0，消除完但不是最后一轮的情况');\r\n                return this.defeat(settings);\r\n                //{失败}\r\n            }\r\n\r\n\r\n\r\n            this.levelsetting_round = this.currentLevelInfo.levelsetting[this.round - 1];\r\n            this.matrix = this.levelsetting_round['matrix'];\r\n            this.updaterotate();//更新旋转角度\r\n            this.init(this.size);\r\n            this.state_pdsb = false;//判断失败状态为false防止后面update持续触发的状态机\r\n        }\r\n\r\n\r\n\r\n        //消除完了，且是最后一轮：（胜利）：查看步数星级\r\n        else {\r\n            if (GameManager.getInstance().gameoverState) return;\r\n            //读取现在的剩余步数 if剩余步数等于(Maxstep-Minstep)则是2星，else if剩余步数<(Maxstep-Minstep)且>0是1星    结束这个关卡（胜利）\r\n            if (this.step == this.Maxstep - this.Minstep) {\r\n                this.levelStar += 2;\r\n                settings[this.level - 1]['S1'] = true;\r\n                settings[this.level - 1]['S2'] = true;\r\n                //触发前两颗星点亮事件\r\n                // settings[this.level - 1]['levelStar'] += 2;\r\n            }\r\n            else if (this.step < this.Maxstep - this.Minstep) {\r\n                //触发前1颗星点亮事件\r\n                this.levelStar += 1;\r\n                settings[this.level - 1]['S1'] = true;\r\n                // settings[this.level - 1]['levelStar'] += 1;\r\n            }\r\n            if (this.starlight_third) {\r\n                this.levelStar += 1;\r\n                //发送事件告诉点击关卡弹窗第三颗星星是点亮的状态\r\n                settings[this.level - 1]['S3'] = true;\r\n            }\r\n            settings[this.level - 1]['levelState'] = 'PASSED';\r\n            if (settings[this.level] && settings[this.level]['levelState'] == 'LOCKED') {\r\n                settings[this.level]['levelState'] = 'UNLOCKED';//下一关为解锁状态\r\n            }\r\n            console.log('showdialog触发了几次');\r\n            this.saveStar_final(settings);\r\n        }\r\n\r\n    }\r\n    private prefabMap: Prefab[] = [];\r\n\r\n    creatorPrefab(){\r\n        console.log('触发了');\r\n\r\n        console.log(\"------------------------------------------\")\r\n        console.log(this.Prefab_type)\r\n        this.c1 = this[`no${this.Prefab_type[0]}`];\r\n        this.c2 = this[`no${this.Prefab_type[1]}`];\r\n        this.c3 = this[`no${this.Prefab_type[2]}`];\r\n        this.c4 = this[`no${this.Prefab_type[3]}`];\r\n        console.log(`no${this.Prefab_type[0]}`)\r\n        console.log(this.Prefab_type[1])\r\n        console.log(this.Prefab_type[2])\r\n        console.log(this.Prefab_type[3])\r\n        console.log(\"------------------------------------------\")\r\n\r\n        // this.c1 = this[\"no2\"];\r\n        // this.c2 = this['no1'];\r\n        // this.c3 = this['no3'];\r\n        // this.c4 = this['no5'];\r\n\r\n       \r\n    }\r\n\r\n    getCNamePrefab(num:number)\r\n    {\r\n        switch(num)\r\n        {\r\n            case 1:\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    init(size: number) {\r\n        for (let i = 0; i < size; i++) {\r\n            this.tileMatrix[i] = new Array(size);\r\n            for (let j = 0; j < size; j++) {\r\n                // 随机选择一个颜色\r\n                let color = this.matrix[i][j];\r\n                let prefab: Prefab = null;\r\n                // 根据颜色实例化对应的预制体\r\n                switch (color) {\r\n                    case 1:\r\n                        prefab = this.c1;\r\n                        //  this.loadMultiplePrefabsAndSpriteFrames(0, 0, size, i, j);\r\n                        break;\r\n                    case 2:\r\n                        prefab = this.c2;\r\n                        //  this.loadMultiplePrefabsAndSpriteFrames(1, 0, size, i, j);\r\n                        break;\r\n                    case 3:\r\n                        prefab = this.c3;\r\n                        //  this.loadMultiplePrefabsAndSpriteFrames(2, 0, size, i, j);\r\n                        break;\r\n                    case 4:\r\n                        prefab = this.c4;\r\n                        //  this.loadMultiplePrefabsAndSpriteFrames(3, 0, size, i, j);\r\n                        break;\r\n                }\r\n                console.log(\"===============================\")\r\n                console.log(prefab)\r\n                console.log(\"===============================\")\r\n                let newNode = instantiate(prefab);\r\n                newNode.setParent(this.node);\r\n\r\n                let pos = new Vec3(j * this.blockSize - (size / 2) * 50 + 25, i * this.blockSize - (size / 2) * 50 + 25, 0)\r\n                // this.posArray.push(pos);\r\n                newNode.setPosition(pos);\r\n                // 将实例化的预制体存储到矩阵中\r\n                this.tileMatrix[i][j] = newNode;\r\n            }\r\n        }\r\n    }\r\n    finalstepState:boolean=false;\r\n    state_pdsb: boolean = false;\r\n    time_upround() {//每帧运行\r\n        if (GameManager.getInstance().gameoverState) return;\r\n        if (this.state_pdsb) return;\r\n        // if (this.step > 0) {\r\n        if (this.areAllElementsNull(this.matrix)) {\r\n            console.log('空了');\r\n            let settings = JSON.parse(localStorage.getItem('settings'));\r\n            this.updateround(settings);//更新这一关的下一轮，如果没有了则结束游戏\r\n        }\r\n        if (this.step == 0) {\r\n            if(this.finalstepState) return;\r\n            this.finalstepState=true;\r\n            setTimeout(() => {\r\n                if (!this.areAllElementsNull(this.matrix)) {\r\n                    let settings = JSON.parse(localStorage.getItem('settings'));\r\n                    console.log('这里是步数等于0的任何情况')\r\n                    this.defeat(settings);\r\n                }\r\n            }, 1000)\r\n\r\n        }\r\n        // }\r\n        // else {\r\n        //     this.state_pdsb = true;\r\n        //     setTimeout(() => {\r\n        //         if (this.areAllElementsNull(this.matrix)) {\r\n        //             this.updateround();//更新这一关的下一轮，如果没有了则结束游戏\r\n        //         }\r\n        //         else {\r\n        //             //失败\r\n        //             console.log('失败');\r\n        //             GameManager.getInstance().gameover();\r\n        //         }\r\n        //     }, 1000);\r\n\r\n\r\n        // }\r\n        // else {\r\n        //     setTimeout(() => {\r\n        //         //步数耗尽且最后一轮:if空：1星 if不空则失败\r\n        //         if (this.round == this.currentLevelInfo.levelsetting.length) {\r\n        //             if (this.areAllElementsNull(this.matrix)) {\r\n        //                 //胜利（步数1星）\r\n        //                 console.log('胜利，1星')\r\n        //             }\r\n        //             else {\r\n        //                 //失败\r\n        //                 console.log('失败')\r\n        //             }\r\n        //         }\r\n        //         //步数耗尽且不是最后一轮\r\n        //         else {\r\n        //             //失败\r\n        //             console.log('失败')\r\n        //         }\r\n        //     }, 1000);\r\n        // }\r\n    }\r\n\r\n    \r\n\r\n\r\n    update(deltaTime: number) {\r\n        this.time_upround();\r\n        // if (this.step == this.Maxstep) {\r\n        //     setTimeout(() => {\r\n\r\n        //     }, 500);\r\n        // }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, tween, Sprite, Vec3, Color } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('newGameManager')\r\nexport class newGameManager extends Component {\r\n    //单例模式定义一个私有的静态变量\r\n    private static instance: newGameManager;\r\n    //外界访问instance\r\n    public static getInstance(): newGameManager {\r\n        return this.instance;\r\n    }\r\n    @property(Node)\r\n    victroyui: Node = null;\r\n    start() {\r\n        newGameManager.instance = this;\r\n    }\r\n    // public static showDialog(node: Node): Promise<Boolean> {\r\n    //     return new Promise((resolve, reject) => {\r\n    //         if (!node) reject(false);\r\n    //         node.active = true;\r\n    //         // mask淡入\r\n    //         let mask: Node = node.getChildByName(\"bg\");\r\n    //         if (mask) {\r\n    //             mask.opacity = 0;\r\n    //             tween(mask).to(0.3, { opacity: 100 }, { easing: \"fade\" }).start();\r\n    //         }\r\n    //         // content缩放显示\r\n    //         let content: Node = node.getChildByName(\"content\");\r\n    //         content.setScale(0, 0);\r\n    //         tween(content)\r\n    //             .to(0.4, { scale: 1 }, { easing: \"backOut\" })\r\n    //             .call(() => {\r\n    //                 resolve(true);\r\n    //             })\r\n    //             .start();\r\n    //     });\r\n    // }\r\n    showDialog() {\r\n        this.victroyui.active = true;\r\n        // mask淡入\r\n        let mask: Node = this.victroyui.getChildByName(\"bg\");\r\n        let masksp: Sprite = mask.getComponent(Sprite);\r\n        if (masksp) {\r\n            tween(masksp).to(0.3, { color: new Color(masksp.color.r, masksp.color.b, masksp.color.g, 100) }, { easing: \"fade\" }).start();\r\n        }\r\n        // content缩放显示\r\n        let content: Node = this.victroyui.getChildByName(\"content\");\r\n        content.scale = new Vec3(0, 0);\r\n        tween(content)\r\n            .to(0.4, { scale: new Vec3(1, 1) }, { easing: \"backOut\" })\r\n            .call(() => {\r\n            })\r\n            .start();\r\n    }\r\n\r\n    \r\n\r\n\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('pauseui')\r\nexport class pauseui extends Component {\r\n    start() {\r\n\r\n    }\r\n    hidePauseUI(){\r\n        this.node.active=false;\r\n    }\r\n    showPauseUI(){\r\n        this.node.active=true;\r\n    }\r\n    starshowPauseUI(star:number){\r\n        this.node.active=true;\r\n        let strpnode=this.node.children[0];\r\n        switch(star){\r\n            case 1:\r\n                strpnode.children[1].active = true;\r\n                break;\r\n            case 2:\r\n                strpnode.children[1].active = true;\r\n                strpnode.children[3].active = true;\r\n                break;\r\n            case 3:\r\n                strpnode.children[1].active = true;\r\n                strpnode.children[3].active = true;\r\n                strpnode.children[5].active = true;\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, AudioClip, AudioSource, Button } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PlaySoundOnClick')\r\nexport class PlaySoundOnClick extends Component {\r\n    // 挂载的音效文件\r\n    @property({ type: AudioClip })\r\n    public clickSound: AudioClip | null = null;\r\n\r\n    // AudioSource 组件\r\n    private audioSource: AudioSource | null = null;\r\n\r\n    start() {\r\n        // 初始化 AudioSource\r\n        this.audioSource = this.node.addComponent(AudioSource);\r\n\r\n        // 检查是否设置了音效\r\n        if (this.clickSound) {\r\n            this.audioSource.clip = this.clickSound;\r\n        }\r\n\r\n        // 添加按钮点击事件\r\n        const button = this.node.getComponent(Button);\r\n        if (button) {\r\n            button.node.on(Button.EventType.CLICK, this.playSound, this);\r\n        } else {\r\n            console.warn('此节点上没有 Button 组件');\r\n        }\r\n    }\r\n\r\n    playSound() {\r\n        if (this.audioSource && this.clickSound) {\r\n            this.audioSource.volume = 0.3;\r\n            this.audioSource.play();\r\n        } else {\r\n            console.warn('音效或 AudioSource 未设置');\r\n        }\r\n    }\r\n}\r\n","import { _decorator, Component, Node, tween, Vec3 } from 'cc';\r\nimport { GlobalPopupState } from './GlobalState';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PopupController')\r\nexport class PopupController extends Component {\r\n    @property(Node)\r\n    popup: Node | null = null; // 弹窗节点\r\n\r\n    @property(Node)\r\n    showButton: Node | null = null; // 显现按钮\r\n\r\n    @property(Node)\r\n    hideButton: Node | null = null; // 隐藏按钮\r\n\r\n    start() {\r\n        const globalState = GlobalPopupState.getInstance();\r\n\r\n        if (this.popup) {\r\n            // 根据全局状态控制弹窗是否显现\r\n            this.popup.active = globalState.isPopupActive;\r\n\r\n            // 如果需要显现，播放动画\r\n            if (globalState.isPopupActive) {\r\n                this.showPopupAnimation();\r\n            }\r\n\r\n            // 绑定显现按钮\r\n            if (this.showButton) {\r\n                this.showButton.on(Node.EventType.TOUCH_END, this.showPopup, this);\r\n            }\r\n\r\n            // 绑定隐藏按钮\r\n            if (this.hideButton) {\r\n                this.hideButton.on(Node.EventType.TOUCH_END, this.hidePopup, this);\r\n            }\r\n        }\r\n    }\r\n\r\n    showPopup() {\r\n        if (this.popup) {\r\n            this.popup.active = true; // 显现弹窗\r\n            this.showPopupAnimation();\r\n            GlobalPopupState.getInstance().isPopupActive = true; // 更新全局状态\r\n        }\r\n    }\r\n\r\n    hidePopup() {\r\n        if (this.popup) {\r\n            this.hidePopupAnimation(() => {\r\n                this.popup.active = false; // 隐藏弹窗\r\n                GlobalPopupState.getInstance().isPopupActive = false; // 更新全局状态\r\n            });\r\n        }\r\n    }\r\n\r\n    private showPopupAnimation() {\r\n        if (this.popup) {\r\n            this.popup.setScale(new Vec3(0, 0, 1)); // 设置初始缩放\r\n            tween(this.popup)\r\n                .to(0.3, { scale: new Vec3(1, 1, 1) }) // 动画播放\r\n                .start();\r\n        }\r\n    }\r\n\r\n    private hidePopupAnimation(callback: () => void) {\r\n        if (this.popup) {\r\n            tween(this.popup)\r\n                .to(0.3, { scale: new Vec3(0, 0, 1) }) // 动画播放\r\n                .call(callback) // 动画结束后回调\r\n                .start();\r\n        }\r\n    }\r\n}\r\n","export default [\r\n    '/c1',\r\n    '/c2',\r\n    '/c3',\r\n    '/c4',\r\n]\r\n\r\n","import { _decorator, Component, Node, instantiate } from 'cc';\r\nimport { cufbParent } from '../cufbParent'; // 引用 cufbParent 脚本\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PrefabDistributor')\r\nexport class PrefabDistributor extends Component {\r\n    @property(Node)\r\n    train: Node = null; // train 节点\r\n\r\n    start() {\r\n        this.distributePrefabs();\r\n    }\r\n\r\n    distributePrefabs() {\r\n        if (!this.train) {\r\n            console.error('train 节点未绑定，请检查！');\r\n            return;\r\n        }\r\n\r\n        // 获取 cufbParent 的单例实例\r\n        const parentInstance = cufbParent.getInstance();\r\n        if (!parentInstance) {\r\n            console.error('无法获取 cufbParent 的实例！');\r\n            return;\r\n        }\r\n\r\n        // 获取预制体数组\r\n        const prefabs = [parentInstance.c1, parentInstance.c2, parentInstance.c3, parentInstance.c4];\r\n\r\n        // 获取 train 节点的所有子节点\r\n        const trainChildren = this.train.children;\r\n\r\n        // 遍历预制体数组并生成到 train 的子节点中\r\n        for (let i = 0; i < prefabs.length && i < trainChildren.length; i++) {\r\n            const prefab = prefabs[i];\r\n            const childNode = trainChildren[i];\r\n\r\n            if (!prefab) {\r\n                console.warn(`预制体 ${i + 1} 未定义，跳过生成`);\r\n                continue;\r\n            }\r\n\r\n            // 实例化预制体\r\n            const instance = instantiate(prefab);\r\n\r\n            // 添加到 train 子节点中\r\n            childNode.addChild(instance);\r\n\r\n            // 设置实例位置为子节点的中心\r\n            instance.setPosition(0, 0, 0);\r\n        }\r\n    }\r\n}\r\n","import { _decorator, Component, Node, instantiate } from 'cc';\r\nimport { newcurbeParent } from '../newcurbeParent'; // 引用 newcurbeParent\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PrefabDistributor')\r\nexport class PrefabDistributor extends Component {\r\n    @property(Node)\r\n    train: Node = null; // train 节点\r\n\r\n    start() {\r\n        this.distributePrefabs();\r\n    }\r\n\r\n    distributePrefabs() {\r\n        if (!this.train) {\r\n            console.error('train 节点未绑定，请检查！');\r\n            return;\r\n        }\r\n\r\n        // 获取 newcurbeParent 的实例\r\n        const parentInstance = newcurbeParent.getInstance();\r\n        if (!parentInstance) {\r\n            console.error('无法获取 newcurbeParent 的实例！');\r\n            return;\r\n        }\r\n\r\n        // 获取预制体\r\n        const prefabs = [parentInstance.c1, parentInstance.c2, parentInstance.c3, parentInstance.c4];\r\n\r\n        // 获取 train 节点的所有子节点\r\n        const trainChildren = this.train.children;\r\n\r\n        // 遍历预制体数组并生成到 train 的子节点中\r\n        for (let i = 0; i < prefabs.length && i < trainChildren.length; i++) {\r\n            const prefab = prefabs[i];\r\n            const childNode = trainChildren[i];\r\n\r\n            if (!prefab) {\r\n                console.warn(`预制体 ${i + 1} 未定义，跳过生成`);\r\n                continue;\r\n            }\r\n\r\n            // 实例化预制体\r\n            const instance = instantiate(prefab);\r\n\r\n            // 添加到 train 子节点中\r\n            childNode.addChild(instance);\r\n\r\n            // 设置实例位置为子节点的中心\r\n            instance.setPosition(0, 0, 0);\r\n        }\r\n    }\r\n}\r\n","import { _decorator, Component, director, Label, Node, Sprite } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('progress')\r\nexport class progress extends Component {\r\n    @property(Node)\r\n    bar:Node=null;\r\n    @property(Label)\r\n    num:Label=null;\r\n    start(){\r\n         director.preloadScene(\"scene\", (completedCount: number, totalCount: number, item: any) => {\r\n        // 计算加载进度\r\n        let progress = completedCount / totalCount;\r\n        \r\n        // 更新进度条\r\n        let sp=this.bar.getComponent(Sprite);\r\n        sp.fillRange=progress;\r\n        this.num.string=Math.floor((progress*100)).toString()+'%';\r\n    }, () => {\r\n        // 当 \"Main UI\" 场景预加载完成后的回调\r\n        console.log(\"主界面预加载完成\");\r\n        \r\n        // 加载 \"Main UI\" 场景\r\n        director.loadScene(\"scene\");\r\n    });\r\n    }\r\n   \r\n    // 假设你已经有一个名为 ProgressBar 的进度条组件\r\n// 这段代码通常放在某个组件的脚本中，例如游戏的启动场景或主菜单场景\r\n\r\n// 开始预加载 \"Main UI\" 场景\r\n    \r\n   \r\n\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport enum RewardType {\r\n    half,\r\n    random,\r\n    Two,\r\n    pause\r\n\r\n}\r\n\r\n@ccclass('reward')\r\nexport class reward extends Component {\r\n    @property\r\n    public rewardType: RewardType = RewardType.half;\r\n    @property\r\n    public rewardpausetime=5;\r\n    start() {\r\n        if (this.rewardType === RewardType.random) {\r\n            let rewardType_index = Math.floor(Math.random() * 2);\r\n            // let rewardType_index=3;\r\n            switch (rewardType_index) {\r\n                case 0:\r\n                    this.rewardType = RewardType.Two;\r\n                    console.log(\"积分二倍\");\r\n                    break;\r\n                case 1:\r\n                    this.rewardType = RewardType.pause;\r\n                    console.log(\"时间暂停\");\r\n                    break;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Label, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ScoreUI')\r\nexport class ScoreUI extends Component {\r\n    @property(Label)\r\n    score:Label=null;\r\n    @property(Label)\r\n    score_setting:Label=null;\r\n    @property(Label)\r\n    score_gameover:Label=null;\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    scoreui(count:number){\r\n        this.score.string=count.toString();\r\n        this.score_setting.string=count.toString();\r\n        this.score_gameover.string=count.toString();\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { Vec3 } from \"cc\";\r\n\r\n\r\n\r\n// Settings.js\r\nlet settings = [\r\n    {\r\n        level: 1,                   // 第1关                                               1粉2\r\n        size: 2,\r\n        levelsetting: [\r\n            {\r\n                round: 1,\r\n                matrix: [[1, 1],\r\n                [1, 1]],\r\n            },\r\n        ],\r\n        type:[1],\r\n        levelState: 'UNLOCKED',     // 关卡状态\r\n        MaxCount: 1,\r\n        MinCount: 1,\r\n        term_num: 1,\r\n        term_onexc: 4,\r\n        levelStar: 0,\r\n        S1: false,\r\n        S2: false,\r\n        S3: false,\r\n        L1: '1步之内完成',\r\n        L2: '消除完所有动物方块',\r\n        L3: '一次性消除所有动物方块',\r\n        pos: new Vec3(-200,0, 0),\r\n        levelLogic: level1Logic\r\n    },\r\n    {\r\n        \r\n        level: 2,                 \r\n        size: 2,\r\n        levelsetting: [\r\n            {\r\n                round: 1,\r\n                matrix: [[3, 4],\r\n                [4, 3]]\r\n            },\r\n        ],\r\n        type:[null,null,3,4], //l:1,r:2,u:3,d:4  但是现在游戏中的循序是l:1,u:3,r:2,d:4\r\n        levelState: 'LOCKED',     // 关卡状态\r\n        MaxCount: 4,\r\n        MinCount: 3,\r\n        term_num: 0,\r\n        term_onexc: 0,\r\n        levelStar: 0,\r\n        S1: false,\r\n        S2: false,\r\n        S3: false,\r\n        L1: '4步之内完成',\r\n        L2: '3步之内完成',\r\n        L3: '消除任意方块',\r\n        pos: new Vec3(-50,0,0),\r\n        levelLogic: level1Logic\r\n    },\r\n    {\r\n        level: 3,                 \r\n        size: 3,\r\n        levelsetting: [\r\n            {\r\n                round: 1,\r\n                matrix: [\r\n                [2,3,2],\r\n                [2,4,1],\r\n                [1,3,3]]\r\n            },\r\n        ],\r\n        type:[2,5,6,7], //l:1,r:2,u:3,d:4  但是现在游戏中的循序是l:1,u:3,r:2,d:4\r\n        levelState: 'LOCKED',     // 关卡状态\r\n        MaxCount: 5,\r\n        MinCount: 4,\r\n        term_num: 2,\r\n        term_onexc: 3,\r\n        levelStar: 0,\r\n        S1: false,\r\n        S2: false,\r\n        S3: false,\r\n        L1: '5步之内完成',\r\n        L2: '4步之内完成',\r\n        L3: '完成2次3消除',\r\n        pos: new Vec3(-50,0,0),\r\n        levelLogic: level1Logic\r\n    },\r\n    {\r\n        level: 4,                 \r\n        size: 4,\r\n        levelsetting: [\r\n            {\r\n                round: 1,\r\n                matrix: [\r\n                [1,1,2,2],\r\n                [1,1,2,2],\r\n                [3,3, 4,4],\r\n                [3,3, 4,4]]\r\n            },\r\n        ],\r\n        type:[1,5,8,9], //l:1,r:2,u:3,d:4  但是现在游戏中的循序是l:1,u:3,r:2,d:4\r\n        levelState: 'LOCKED',     // 关卡状态\r\n        MaxCount: 6,\r\n        MinCount: 4,\r\n        term_num: 4,\r\n        term_onexc: 4,\r\n        levelStar: 0,\r\n        S1: false,\r\n        S2: false,\r\n        S3: false,\r\n        L1: '6步之内完成',\r\n        L2: '4步之内完成',\r\n        L3: '完成4次4消除',\r\n        pos: new Vec3(-50,0,0),\r\n        levelLogic: level1Logic\r\n    },\r\n\r\n\r\n\r\n    {\r\n        level: 5,               \r\n        size: 3,\r\n        levelsetting: [\r\n            {\r\n                round: 1,\r\n                matrix: [\r\n                [2,4,4],\r\n                [1,3,3],\r\n                [4,1,3]]\r\n            },\r\n        ],\r\n        type:  [10,4,8,6],\r\n        levelState: 'LOCKED',     // 关卡状态\r\n        MaxCount: 6,\r\n        MinCount: 4,\r\n        term_num: 2,\r\n        term_onexc: 3,\r\n        levelStar: 0,\r\n        S1: false,\r\n        S2: false,\r\n        S3: false,\r\n        L1: '6步之内完成',\r\n        L2: '4步之内完成',\r\n        L3: '完成2次3消除',\r\n        pos: new Vec3(100,0,0),\r\n        levelLogic: level1Logic\r\n    },\r\n\r\n    {\r\n        level: 6,                  \r\n        size: 3,\r\n        levelsetting: [\r\n            {\r\n                round: 1,\r\n                matrix: \r\n                [\r\n                [3,2,3],\r\n                [4,1,3],\r\n                [3,4,2]]\r\n            },\r\n        ],\r\n        type:[11,4,12,9],//c1=动物1:l:方阵中的1 c2=动物2:r方阵中的2 c3=动物3:u c4=动物5:d      1:r 2:l 3:u 4:d\r\n        levelState: 'LOCKED',     // 关卡状态\r\n        MaxCount: 6,\r\n        MinCount: 5,\r\n        term_num: 1,\r\n        term_onexc: 4,\r\n        levelStar: 0,\r\n        S1: false,\r\n        S2: false,\r\n        S3: false,\r\n        L1: '6步之内完成',\r\n        L2: '5步之内完成',\r\n        L3: '一次性消除完小羊',\r\n        pos: new Vec3(250,0,0),\r\n        levelLogic: level1Logic\r\n    },\r\n    {\r\n        level: 7,                  \r\n        size: 4,\r\n        levelsetting: [\r\n            {\r\n                round: 1,\r\n                matrix: [[2,3,3,1],\r\n                [2,4,1,4],\r\n                [4,3,2,4],\r\n                [2,2,1,1]]\r\n            },\r\n        ],\r\n        type:[8,10,2,7],//c1=动物1:l:方阵中的1 c2=动物2:r方阵中的2 c3=动物3:u c4=动物5:d      1:r 2:l 3:u 4:d\r\n        levelState: 'LOCKED',     // 关卡状态\r\n        MaxCount: 8,\r\n        MinCount: 6,\r\n        term_num: 1,\r\n        term_onexc: 5,\r\n        levelStar: 0,\r\n        S1: false,\r\n        S2: false,\r\n        S3: false,\r\n        L1: '8步之内完成',\r\n        L2: '6步之内完成',\r\n        L3: '一次性消除完小猫',\r\n        pos: new Vec3(250,0,0),\r\n        levelLogic: level1Logic\r\n    },\r\n    {\r\n        level: 8,                   // 第1关                                               1粉2蓝3黄4绿\r\n        size: 4,\r\n        levelsetting: [\r\n            {\r\n                round: 1,\r\n                matrix: [[2, 2, 2, 4],\r\n                [3, 1, 4, 1],\r\n                [1, 4, 2, 4],\r\n                [4, 3, 1, 3]]\r\n            },\r\n        ],\r\n        type:[4,3,12,5],\r\n        levelState: 'LOCKED',     // 关卡状态\r\n        MaxCount: 9,\r\n        MinCount: 6,\r\n        term_num: 2,\r\n        term_onexc: 4,\r\n        levelStar: 0,\r\n        S1: false,\r\n        S2: false,\r\n        S3: false,\r\n        L1: '9步之内完成',\r\n        L2: '6步之内完成',\r\n        L3: '完成2次4消除',\r\n        pos: new Vec3(250, 0, 0),\r\n        levelLogic: level1Logic\r\n    },\r\n    {\r\n        level: 9,                  \r\n        size: 5,\r\n        levelsetting: [\r\n            {\r\n                round: 1,\r\n                matrix: [[1,4,4,4,2],\r\n                [1,3,3,4,2],\r\n                [1,2,4,4,3],\r\n                [1,3,4,3,4],\r\n                [4,4,1,1,4]]\r\n            },\r\n        ],\r\n        type:[1,10,8,7],//c1=动物1:l:方阵中的1 c2=动物2:r方阵中的2 c3=动物3:u c4=动物5:d      1:r 2:l 3:u 4:d\r\n        levelState: 'LOCKED',     // 关卡状态\r\n        MaxCount: 8,\r\n        MinCount: 6,\r\n        term_num: 1,\r\n        term_onexc: 7,\r\n        levelStar: 0,\r\n        S1: false,\r\n        S2: false,\r\n        S3: false,\r\n        L1: '8步之内完成',\r\n        L2: '6步之内完成',\r\n        L3: '一次性消除7个或以上的小猪',\r\n        pos: new Vec3(250,0,0),\r\n        levelLogic: level1Logic\r\n    },\r\n    {\r\n        level: 10,                  \r\n        size: 4,\r\n        levelsetting: [\r\n            {\r\n                round: 1,\r\n                matrix: [[1, 4, 1, 4],\r\n                [3, 3, 1, 1],\r\n                [1, 4, 3, 2],\r\n                [4, 3, 2, 4]]\r\n            },\r\n            {\r\n                round: 2,\r\n                matrix: [[4, 4, 3, 3],\r\n                [1, 3, 4, 2],\r\n                [4, 1, 4, 1],\r\n                [1, 3, 2, 4]]\r\n            },\r\n        ],\r\n        type:[3,8,6,9],\r\n        levelState: 'LOCKED',     // 关卡状态\r\n        MaxCount: 17,\r\n        MinCount: 12,\r\n        term_num: 2,\r\n        term_onexc: 4,\r\n        levelStar: 0,\r\n        S1: false,\r\n        S2: false,\r\n        S3: false,\r\n        L1: '17步之内完成',\r\n        L2: '12步之内完成',\r\n        L3: '每轮完成2次4消除',\r\n        pos: new Vec3(250,0,0),\r\n        levelLogic: level1Logic\r\n    }]\r\n\r\n\r\nfunction level1Logic() {\r\n    // 关卡1的特定逻辑代码\r\n    console.log('Running level 1 logic');\r\n}\r\n\r\nexport { settings };\r\n\r\n\r\n","export default [\r\n    '/square_g/spriteFrame',\r\n    '/square_b/spriteFrame',\r\n    '/square_y/spriteFrame',\r\n    '/square_r/spriteFrame',\r\n    '/5/spriteFrame',\r\n    '/6/spriteFrame',\r\n    '/7/spriteFrame',\r\n    '/8/spriteFrame',\r\n]\r\n\r\n\r\n","import { _decorator, Component, director, find, instantiate, Node, Prefab, tween, Vec3 } from 'cc';\r\nimport { Audio } from '../Audio';\r\nimport { newaudio } from '../newaudio';\r\nimport { All } from '../all';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('StartUI')\r\nexport class StartUI extends Component {\r\n    //单例模式定义一个私有的静态变量\r\n    private static instance: StartUI;\r\n    //外界访问instance\r\n    public static getInstance(): StartUI {\r\n        return this.instance;\r\n    }\r\n    pausednode:Node=null;\r\n    @property(Prefab)\r\n    pausePrefab:Prefab\r\n    @property(Prefab)\r\n    loadprefab:Prefab=null;\r\n    loadnode:Node=null;\r\n    start() {\r\n        StartUI.instance = this;\r\n        // Audio.getInstance();\r\n    }\r\n\r\n\r\n    showspeeddialog(){\r\n        this.pausednode = instantiate(this.pausePrefab);\r\n        this.node.addChild(this.pausednode);\r\n\r\n        const pauseuinode = this.pausednode.getChildByName('content');\r\n        // 设置弹窗的初始缩放并动画放大\r\n        pauseuinode.scale = new Vec3(0, 0, 0);\r\n        tween(pauseuinode)\r\n            .to(0.4, { scale: new Vec3(1, 1, 1) }, { easing: \"backOut\" })\r\n            .call(() => {\r\n            })\r\n            .start();\r\n    }\r\n    hidespeeddialog() {\r\n        let pauseuinode: Node = this.pausednode.getChildByName('content');\r\n        tween(pauseuinode)\r\n            .to(0.4, { scale: new Vec3(0, 0, 0) }, { easing: 'backIn' }) // 使用 backIn 方案来缩放回原始大小\r\n            .call(() => {\r\n                // 动画完成后从场景中移除弹窗\r\n                this.pausednode.destroy();\r\n                All.setStateDialog(false);\r\n            })\r\n            .start();\r\n    }\r\n\r\n    OnStartButtonClick() {\r\n        console.log('触发了开始游戏');\r\n        // newaudio.getInstance().playSound('Sound/按钮点击音效');\r\n        this.loadnode = instantiate(this.loadprefab);\r\n        this.node.addChild(this.loadnode);\r\n       setTimeout(() => {\r\n            director.loadScene(\"sceneSpeed\",()=>{\r\n                // this.loadnode.destroy();\r\n            });\r\n            \r\n        }, 500);\r\n        }\r\n    OnSecondStartButtonClick() {\r\n        // newaudio.getInstance().playSound('Sound/按钮点击音效');\r\n        this.loadnode = instantiate(this.loadprefab);\r\n        this.node.addChild(this.loadnode);\r\n        setTimeout(() => {\r\n            director.loadScene(\"Map\",()=>{\r\n                // this.loadnode.destroy();\r\n            });\r\n            \r\n        }, 500);\r\n        }\r\n    \r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","\r\n\r\n\r\nimport { _decorator, Component, Node, Vec2, Prefab, instantiate, Vec3, tween, Collider2D, Contact2DType, IPhysics2DContact, input, Input, EventTouch, size, Tween, math, find, resources, Sprite, SpriteFrame } from 'cc';\r\nimport skin from '../../data/skin';\r\nimport prefab from '../../data/prefab';\r\nimport { Audio } from '../Audio';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\nenum Color {\r\n    Red,\r\n    Yellow,\r\n    purple,\r\n    while\r\n}\r\n\r\n@ccclass('teach')\r\nexport class cufbParent extends Component {\r\n\r\n    //单例模式定义一个私有的静态变量\r\n    private static instance: cufbParent;\r\n    //外界访问instance\r\n    public static getInstance(): cufbParent {\r\n        return this.instance;\r\n    }\r\n\r\n\r\n\r\n    private currentRound: number;\r\n    @property\r\n    public blockSize: number = 50;\r\n    @property(Prefab)\r\n    c1: Prefab = null;\r\n    @property(Prefab)\r\n    c2: Prefab = null;\r\n    @property(Prefab)\r\n    c3: Prefab = null;\r\n    @property(Prefab)\r\n    c4: Prefab = null;\r\n    tileMatrix: Node[][] = [];\r\n    //\r\n    colorArray: number[][] = [];\r\n    //\r\n    public isMoving: boolean = false;\r\n    //\r\n    size: number;\r\n    //旋转状态\r\n    rotateState: boolean = false;\r\n    //\r\n    movesysmol: number;\r\n    //\r\n    state_button: boolean = true;\r\n    //碰撞状态\r\n    cstate: boolean = false;\r\n    //死了的状态，每帧判断，就执行死了的那一帧\r\n    dstate: boolean = false;\r\n    //\r\n    indexArray: number[] = [];\r\n    posArray: Vec3[] = [];\r\n    pArray: Node[] = [];\r\n    titleMatrix_pos: Vec3[][] = [];\r\n    rewardNode = null;\r\n    //一轮里面只能生成一个\r\n    reward_time: boolean = false;\r\n    @property(Prefab)\r\n    reward1: Prefab = null;\r\n    @property(Prefab)\r\n    reward2: Prefab = null;\r\n    //动态图片地址\r\n    spriteFramePath = skin;\r\n    //动态预制体地址\r\n    prefabPaths = prefab;\r\n    //生成的方阵中有几种颜色\r\n    len: number = null;\r\n    //\r\n    @property(Audio)\r\n    audio:Audio=null;\r\n\r\n    start() {\r\n        // this.init(2);\r\n    }\r\n\r\n    private animatedNodes: Set<Node> = new Set<Node>();\r\n    moveNode(node: Node, targetWorldposition: Vec3, row: number, col: number) {\r\n        if (this.animatedNodes.has(node)) {\r\n            // 如果节点已经在集合中，则不再播放动画\r\n            return;\r\n        }\r\n        this.isMoving = true; // 标记开始移动\r\n        let pos=node.getWorldPosition();\r\n        \r\n        tween(node)\r\n            \r\n            .to(0.5, { worldPosition: targetWorldposition })\r\n            .call(() => {\r\n                // 动画完成后的回调函数\r\n                this.isMoving = false; // 标记动画结束\r\n                this.colorArray[row][col] = null;\r\n                // this.countUniqueElementsIn2DArray(this.colorArray);\r\n                this.cstate = false;//碰撞状态设为falses\r\n                console.log('1111');\r\n                this.animatedNodes.add(node); // 将节点添加到已播放动画的集合中\r\n            })\r\n            .start(); // 开始动画\r\n        this.cstate = true;\r\n    }\r\n    updaterotate() {\r\n        let childNodes = this.node.children; // 或者使用特定的子节点数组\r\n        for (let child of childNodes) {\r\n            child.eulerAngles = Vec3.ZERO;\r\n            child.destroy();\r\n        }\r\n        this.node.eulerAngles = Vec3.ZERO;\r\n    }\r\n\r\n    ybnum: number = 0\r\n    ybState: boolean = false;\r\n    loadMultiplePrefabsAndSpriteFrames(index: number, skintype: number, size: number, i: number, j: number) {\r\n\r\n        let prefabPath = this.prefabPaths[index];\r\n        console.log(prefabPath + \"path\");\r\n        console.log(i);\r\n        console.log(j);\r\n        // let spriteFramePath = this.spriteFramePaths[i];\r\n\r\n        // 加载预制体\r\n        resources.load(prefabPath, Prefab, (err: Error, prefab: Prefab) => {\r\n            if (err) {\r\n                console.error(err);\r\n                return;\r\n            }\r\n\r\n            // 实例化预制体\r\n            let newNode = instantiate(prefab);\r\n            newNode.setParent(this.node);\r\n\r\n            let pos = new Vec3(j * this.blockSize - (size / 2) * 50 + 25, i * this.blockSize - (size / 2) * 50 + 25, 0)\r\n            // this.posArray.push(pos);\r\n            newNode.setPosition(pos);\r\n            // 将实例化的预制体存储到矩阵中\r\n            this.tileMatrix[i][j] = newNode;\r\n            this.colorArray[i][j] = index;\r\n            this.titleMatrix_pos[i][j] = pos; //道具用于生成的位置的数组\r\n            // 将新节点添加到当前节点的子节点中\r\n            // this.node.addChild(newNode);\r\n\r\n            // 加载图片资源\r\n            // resources.load('/1/spriteFrame', SpriteFrame, (err: Error, spriteFrame: SpriteFrame) => {\r\n            resources.load(this.spriteFramePath[index + 4 * skintype], SpriteFrame, (err: Error, spriteFrame: SpriteFrame) => {\r\n                if (err) {\r\n                    console.error(err);\r\n                    return;\r\n                }\r\n\r\n                // 获取预制体上的 Sprite 组件并设置图片\r\n                let sprite = newNode.getComponent(Sprite);\r\n                if (sprite) {\r\n                    sprite.spriteFrame = spriteFrame;\r\n                } else {\r\n                    console.error('Sprite component not found on the prefab node!');\r\n                }\r\n            });\r\n            this.ybnum += 1;                   //异步加载资源完毕即可判断颜色数组是否为空\r\n            if (this.ybnum / size === size) {\r\n                this.ybState = true;\r\n                this.ybnum = 0;\r\n            }\r\n        });\r\n    }\r\n\r\n    // init(size: number) {\r\n    //     for (let i = 0; i < size; i++) {\r\n    //         this.tileMatrix[i] = new Array(size);\r\n    //         this.colorArray[i] = new Array(size);\r\n    //         this.titleMatrix_pos[i] = new Array(size);\r\n    //         for (let j = 0; j < size; j++) {\r\n    //             this.tileMatrix[i][j] = \r\n    //             this.colorArray[i][j] = \r\n    //             this.titleMatrix_pos[i][j] = \r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    //如果向右移动：\r\n    private touchStartPos: Vec2\r\n\r\n    onLoad() {\r\n        // 监听触摸事件\r\n        input.on(Input.EventType.TOUCH_START, this.onTouchStart, this);\r\n        input.on(Input.EventType.TOUCH_END, this.onTouchEnd, this);\r\n    }\r\n\r\n    // 触摸开始事件处理\r\n    onTouchStart(event: EventTouch) {\r\n        console.log(\"点击\");\r\n        this.touchStartPos = event.getLocation();\r\n    }\r\n\r\n\r\n    // 触摸结束或取消事件处理\r\n    onTouchEnd(event: EventTouch) {\r\n        console.log(\"松开\");\r\n        let touchEndPos = event.getLocation();\r\n        let swipeDirection = this.getSwipeDirection(this.touchStartPos, touchEndPos);\r\n        this.handleSwipe(swipeDirection);\r\n    }\r\n\r\n    // 获取滑动方向\r\n    private getSwipeDirection(startPos: Vec2, endPos: Vec2): string {\r\n        let deltaX = endPos.x - startPos.x;\r\n        let deltaY = endPos.y - startPos.y;\r\n\r\n        if (Math.abs(deltaX) > Math.abs(deltaY)) {\r\n            // 水平方向滑动\r\n            if (deltaX > 0) {\r\n                return 'right';\r\n            } else if (deltaX < 0) {\r\n                return 'left';\r\n            }\r\n        } else {\r\n            // 垂直方向滑动\r\n            if (deltaY > 0) {\r\n                return 'up';\r\n            } else if (deltaY < 0) {\r\n                return 'down';\r\n            }\r\n        }\r\n\r\n        return 'none'; // 没有滑动或者滑动距离小于阈值\r\n    }\r\n\r\n\r\n    // 处理滑动事件\r\n    private handleSwipe(direction: string) {\r\n        switch (direction) {\r\n            case 'up':\r\n                console.log(\"up\");\r\n                if (this.isMoving) return;\r\n                // 处理向上滑动逻辑\r\n                this.markToRemove('u');\r\n                break;\r\n            case 'down':\r\n                if (this.isMoving) return;\r\n                console.log('Swipe Down');\r\n                // 处理向下滑动逻辑\r\n                this.markToRemove('d');\r\n                // this.removeBlocksByColor_d(this.size);\r\n                break;\r\n            case 'left':\r\n                if (this.isMoving) return;\r\n                console.log('Swipe Left');\r\n                // 处理向左滑动逻辑\r\n                this.markToRemove('l');\r\n                // this.removeBlocksByColor_l(this.size);\r\n                break;\r\n            case 'right':\r\n                if (this.isMoving) return;\r\n                console.log('Swipe Right');\r\n                // 处理向右滑动逻辑\r\n                this.markToRemove('r');\r\n                // this.removeBlocksByColor_r(this.size);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    markToRemove(direction: 'r' | 'l' | 'd' | 'u') {\r\n        const size = this.size;\r\n        const isRow = direction === 'r' || direction === 'l';\r\n        const isCol = direction === 'r' || direction === 'u';\r\n        const isContinuousColor = (color: number | null, targetColor: number) => color === targetColor || color === null || color === 4;\r\n        const toRemove: boolean[][] = Array.from({ length: size }, () => Array(size).fill(false));\r\n\r\n        let start = direction === 'r' || direction === 'u' ? size - 1 : 0;\r\n        let end = direction === 'r' || direction === 'u' ? 0 : size - 1;\r\n        for (let i = 0; i < size; i++) {\r\n            let consecutiveColorCount = 0;\r\n            for (let j = start; isCol ? j >= end : j <= end; isCol ? j-- : j++) {\r\n                let color = this.colorArray[isRow ? i : j][isRow ? j : i];\r\n                let targetColor = this.getTargetColor(direction);\r\n                if (isContinuousColor(color, targetColor)) {\r\n                    consecutiveColorCount++;\r\n                } else {\r\n\r\n                    if (consecutiveColorCount > 0) {\r\n                        for (let a = j + (isCol ? 1 : -1); isCol ? a <= j + consecutiveColorCount : a >= j - consecutiveColorCount; isCol ? a++ : a--) {\r\n                            isRow ? toRemove[i][a] = true : toRemove[a][i] = true;\r\n                        }\r\n                        consecutiveColorCount = 0;\r\n                    }\r\n                    break;\r\n                }\r\n\r\n                if (consecutiveColorCount > 0 && (j === end)) {\r\n                    for (let a = j; isCol ? a < j + consecutiveColorCount : a > j - consecutiveColorCount; isCol ? a++ : a--) {\r\n                        isRow ? toRemove[i][a] = true : toRemove[a][i] = true;\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n        this.moveNodes(toRemove, size, direction);\r\n    }\r\n    private getTargetColor(direction: 'r' | 'l' | 'd' | 'u'): number {\r\n        switch (direction) {\r\n            case 'r': return 1;\r\n            case 'l': return 3;\r\n            case 'd': return 0;\r\n            case 'u': return 2;\r\n        }\r\n    }\r\n\r\n\r\n    private moveNodes(toRemove: boolean[][], size: number, direction: 'r' | 'l' | 'd' | 'u'): void {\r\n        for (let row = 0; row < size; row++) {\r\n                for (let col = 0; col < size; col++) {\r\n                    if (toRemove[row][col] === true) {\r\n                        let node = this.getTileAt(row, col);\r\n                        let pos=node.getWorldPosition()\r\n                        const movePosition = (direction: 'r' | 'l' | 'd' | 'u') => {\r\n                        switch (direction) {\r\n                            case 'r': return new Vec3(pos.x+500,pos.y,pos.z);\r\n                            case 'l': return new Vec3(pos.x-500,pos.y,pos.z);\r\n                            case 'd': return new Vec3(pos.x,pos.y-500,pos.z);\r\n                            case 'u': return new Vec3(pos.x,pos.y+500,pos.z);\r\n                        }\r\n                    };\r\n                        const position=movePosition(direction);\r\n\r\n                        this.moveNode(node, position, row, col);\r\n                    }\r\n                }\r\n            }\r\n    }\r\n\r\n    changeBState() {\r\n        this.state_button = true;  //防止没有播放完动画点击\r\n    }\r\n\r\n    getTileAt(x: number, y: number): Node {\r\n        return this.tileMatrix[x][y];\r\n    }\r\n\r\n    private currentTween: Tween<Node> = null;\r\n    onrotateButton() {\r\n        find(\"GameManager/audio\").getComponent(Audio).playClick();\r\n        if (!this.state_button) return;\r\n        let newAngle = this.node.angle - 90;\r\n        this.rotateState = true;\r\n        // 创建父节点的旋转动画\r\n        let parentTween = tween(this.node)\r\n            .to(1, { angle: newAngle }, { easing: 'quadInOut' })\r\n            .call(() => {\r\n                this.rotateState = false; // 在父节点的动画结束时更新状态\r\n                this.changeBState()\r\n            });\r\n\r\n        // 创建子节点的旋转动画\r\n        let childNodes = this.node.children; // 或者使用特定的子节点数组\r\n\r\n        for (let child of childNodes) {\r\n\r\n            let childAngle = child.angle + 90;\r\n            // console.log(child.eulerAngles.z);\r\n            // 创建并启动子节点的旋转动画\r\n            tween(child)\r\n                .to(1, { angle: childAngle }, { easing: 'quadInOut' })\r\n                .start();\r\n        }\r\n\r\n\r\n        // 同时启动父节点和子节点的动画\r\n        parentTween.start();\r\n        this.state_button = false;   //播放动画时无法点击按钮\r\n\r\n        // 如果需要跟踪当前的 tween，可以存储它们\r\n        this.currentTween = parentTween;\r\n        // 注意：你也可以存储子节点的 tween，如果需要对其进行控制\r\n        this.tileMatrix = this.rotateMatrix90Degrees(this.tileMatrix);\r\n        this.colorArray = this.rotateMatrix90Degrees(this.colorArray);\r\n        this.titleMatrix_pos = this.rotateMatrix90Degrees(this.titleMatrix_pos);\r\n    }\r\n\r\n    rotateMatrix90Degrees(matrix: any[][]): any[][] {\r\n        const size = matrix.length;\r\n        const rotatedMatrix = Array.from({ length: size }, () => Array(size).fill(null));\r\n\r\n        for (let i = 0; i < size; i++) {\r\n            for (let j = 0; j < size; j++) {\r\n                rotatedMatrix[size - 1 - j][i] = matrix[i][j];\r\n            }\r\n        }\r\n\r\n        return rotatedMatrix;\r\n    }\r\n    //检查数组中是否都是null元素\r\n\r\n    update(deltaTime: number) {\r\n    }\r\n}\r\n\r\n","import { _decorator,Animation,Component, Label, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('TimeUI')\r\nexport class TimeUI extends Component {\r\n    @property(Label)\r\n    time:Label=null;\r\n    @property(Animation)\r\n    animation:Animation=null;\r\n    start() {\r\n\r\n    }\r\n\r\n    TimeUI(count:number){\r\n        this.time.string=count.toString()+\"s\";\r\n    }\r\n\r\n    // play_addtime(){\r\n    //     this.animation.play('animation');\r\n    // }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Layers, Node, resources, Size, size, Sprite, SpriteFrame, UITransform, Vec3 } from 'cc';\r\nimport skin from '../../data/skin';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('top')\r\nexport class top extends Component {\r\n    top:Node=null;\r\n    skintype:number=0;\r\n    spriteFramePath=skin;\r\n\r\n\r\n    start() {\r\n        this.top=this.node.getChildByName('top-mid');\r\n        for(let i=0;i<4;i++){\r\n            let animal=new Node(`animal${i}`);\r\n            animal.layer=Layers.Enum.UI_2D;\r\n            this.top.addChild(animal);\r\n            let pos=new Vec3(-267+(i*178),-17,0)\r\n            animal.setPosition(pos.x,pos.y,pos.z);\r\n            animal.addComponent(Sprite);\r\n            resources.load(this.spriteFramePath[i + 4 * this.skintype], SpriteFrame, (err: Error, spriteFrame: SpriteFrame) => {\r\n                if (err) {\r\n                    console.error(err);\r\n                    return;\r\n                }\r\n                //获取sprite组件\r\n                let sprite=animal.getComponent(Sprite);\r\n                sprite.spriteFrame=spriteFrame;\r\n                const uiTransform = animal.getComponent(UITransform);\r\n                // 方法一\r\n                uiTransform.setContentSize(170, 170);\r\n            });\r\n        }\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Prefab, instantiate, Vec3, Animation } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('tx_col')\r\nexport class tx_col extends Component {\r\n    @property([Prefab])\r\n    prefabs: Prefab[] = [];\r\n\r\n    // 实例化特定种类的预制体\r\n    txcreator(kind: number, pos: Vec3) {\r\n        if (kind < 1 || kind > this.prefabs.length) {\r\n            console.error('Prefab kind is out of range. It should be between 1 and ' + this.prefabs.length);\r\n            return;\r\n        }\r\n\r\n        // 获取正确的预制体，因为数组索引从0开始，所以需要减1\r\n        let prefab = this.prefabs[kind - 1];\r\n        if (!prefab) {\r\n            console.error('Prefab at index ' + (kind - 1) + ' is undefined.');\r\n            return;\r\n        }\r\n\r\n        // 实例化预制体\r\n        let tx = instantiate(prefab);\r\n        tx.setParent(this.node);\r\n        tx.setWorldPosition(pos);\r\n        let animationComponent = tx.getComponent(Animation);\r\n        animationComponent.on(Animation.EventType.FINISHED, () => {\r\n            tx.destroy();\r\n        }, this);\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UIController')\r\nexport class UIController extends Component {\r\n    @property(Node)\r\n    targetNode: Node | null = null; // 目标节点\r\n\r\n    @property(Node)\r\n    showButton: Node | null = null; // 显现按钮\r\n\r\n    @property(Node)\r\n    hideButton: Node | null = null; // 隐藏按钮\r\n\r\n    start() {\r\n        // 确保按钮和目标节点已设置\r\n        if (this.showButton) {\r\n            this.showButton.on(Node.EventType.TOUCH_END, this.showTargetNode, this);\r\n        }\r\n        if (this.hideButton) {\r\n            this.hideButton.on(Node.EventType.TOUCH_END, this.hideTargetNode, this);\r\n        }\r\n    }\r\n\r\n    showTargetNode() {\r\n        if (this.targetNode) {\r\n            this.targetNode.active = true; // 显现目标节点\r\n        }\r\n    }\r\n\r\n    hideTargetNode() {\r\n        if (this.targetNode) {\r\n            this.targetNode.active = false; // 隐藏目标节点\r\n        }\r\n    }\r\n\r\n    onDestroy() {\r\n        // 清理事件监听器\r\n        if (this.showButton) {\r\n            this.showButton.off(Node.EventType.TOUCH_END, this.showTargetNode, this);\r\n        }\r\n        if (this.hideButton) {\r\n            this.hideButton.off(Node.EventType.TOUCH_END, this.hideTargetNode, this);\r\n        }\r\n    }\r\n}\r\n"]}